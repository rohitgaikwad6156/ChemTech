<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Named Reactions Explorer (100 Reactions)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Load MathJax for rendering LaTeX chemistry formulas -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" async></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0c111d; /* Deep Blue/Slate Background */
        }
        /* Custom class for the active reaction card */
        .reaction-card-active {
            background-color: #1e293b; /* Slate 800 */
            border-left: 6px solid #3b82f6; /* Stronger Blue 500 */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }
        .reaction-card:hover {
            background-color: #1e293b;
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Main Container -->
    <div class="flex flex-col lg:flex-row min-h-screen">

        <!-- Sidebar (Reaction List) -->
        <div id="sidebar" class="bg-gray-900 w-full lg:w-80 p-4 lg:p-6 shadow-2xl flex flex-col max-h-screen lg:max-h-full border-r border-gray-700">
            <h1 class="text-3xl font-extrabold text-white mb-4 border-b border-blue-600 pb-3">
                <span class="text-blue-400">Chem</span> Explorer (100)
            </h1>

            <!-- Search Bar -->
            <div class="mb-4">
                <input type="text" id="search-input" oninput="filterReactions(this.value)"
                       placeholder="Search by name or product..."
                       class="w-full p-2 rounded-lg bg-gray-700 text-white placeholder-gray-400 border border-gray-600 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
            </div>

            <!-- Reaction List Container (Scrollable) -->
            <div id="reaction-list" class="flex-1 overflow-y-auto">
                <!-- Reaction items will be injected here -->
            </div>
        </div>

        <!-- Main Content Area (Reaction Details & Interactive Lab) -->
        <div class="flex-1 p-4 lg:p-12 text-white overflow-y-auto">
            <div id="reaction-details-container" class="bg-gray-800 p-6 lg:p-10 rounded-xl shadow-2xl transition-all duration-300">
                <h2 id="reaction-title" class="text-4xl font-extrabold text-blue-400 mb-4">Select a Reaction</h2>
                <p id="reaction-summary" class="text-gray-300 mb-8 leading-relaxed">
                    Use the search bar or scroll the list on the left to find one of the 100 named reactions and view its detailed mechanism.
                </p>

                <!-- Reactant/Product Display -->
                <div id="reactant-product-section" class="grid grid-cols-1 gap-y-6 md:grid-cols-3 md:gap-x-6 bg-gray-700 p-6 rounded-lg shadow-inner mb-10" style="display: none;">
                    <div>
                        <h3 class="text-xl font-semibold text-gray-200 mb-2 border-b border-gray-600 pb-1">Reactants</h3>
                        <p id="reactants-text" class="text-lg text-amber-300"></p>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-gray-200 mb-2 border-b border-gray-600 pb-1">Conditions</h3>
                        <p id="conditions-text" class="text-lg text-cyan-300"></p>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-gray-200 mb-2 border-b border-gray-600 pb-1">Product</h3>
                        <p id="products-text" class="text-lg text-lime-300 font-mono"></p>
                    </div>
                </div>

                <!-- Interactive Lab -->
                <div id="interactive-lab-section" class="mt-10 p-6 bg-gray-900 rounded-xl border-2 border-blue-700 shadow-3xl" style="display: none;">
                    <h3 class="text-2xl font-bold mb-4 text-blue-400 border-b border-gray-700 pb-2">üß™ Reaction Visualizer (Interactive Lab)</h3>
                    <p class="text-gray-400 mb-6">Step through the core mechanism to understand the transformation.</p>
                    <div id="visualizer-content" class="min-h-[150px] flex items-center justify-center p-4">
                        <!-- Visualizer steps will be injected here -->
                    </div>
                    <div id="visualizer-controls" class="flex justify-center mt-6">
                        <button id="prev-step" onclick="changeStep(-1)" disabled class="px-6 py-3 mr-4 bg-gray-600 text-white rounded-xl shadow-md hover:bg-gray-500 transition disabled:opacity-30 disabled:cursor-not-allowed font-medium">
                            ‚Üê Previous Step
                        </button>
                        <button id="next-step" onclick="changeStep(1)" class="px-6 py-3 bg-blue-600 text-white rounded-xl shadow-lg shadow-blue-500/50 hover:bg-blue-700 transition disabled:opacity-30 disabled:cursor-not-allowed font-medium">
                            Next Step ‚Üí
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        // --- Reaction Data (Expanded to 100 Reactions) ---
        const namedReactions = [
            // --- 1-25 (Initial Set + Expansion) ---
            { id: 'friedel-crafts', name: 'Friedel-Crafts Acylation', description: 'An electrophilic aromatic substitution reaction that attaches an acyl group ($\\text{RCO}$) to a benzene ring. It requires a Lewis acid catalyst, such as anhydrous $\\text{AlCl}_3$.', reactants: 'Benzene ($\\text{C}_6\\text{H}_6$) and an Acyl Halide ($\\text{RCOCl}$)', conditions: 'Anhydrous $\\text{AlCl}_3$, Heat', products: 'Aromatic Ketone ($\\text{C}_6\\text{H}_5\\text{COR}$)', visualizerSteps: [{ label: 'Step 1: Catalyst Activation', text: 'The acyl chloride ($\\text{RCOCl}$) reacts with the Lewis acid ($\\text{AlCl}_3$) to generate the reactive Acylium Ion ($\\text{RCO}^+$).'}, { label: 'Step 2: Electrophilic Attack', text: 'The Acylium Ion attacks the electron-rich Benzene ring, forming a resonance-stabilized carbocation intermediate.'}, { label: 'Step 3: Proton Abstraction', text: 'A base (like $\\text{AlCl}_4^-$) abstracts a proton ($\\text{H}^+$) from the intermediate, restoring aromaticity and yielding the final Aromatic Ketone product.'} ] },
            { id: 'aldol-condensation', name: 'Aldol Condensation', description: 'A reaction where an aldehyde or ketone having an $\\alpha$-hydrogen reacts with an enolate ion to form a $\\beta$-hydroxy aldehyde or ketone (the aldol product), followed by dehydration to yield an $\\alpha, \\beta$-unsaturated carbonyl compound.', reactants: 'Acetaldehyde ($\\text{CH}_3\\text{CHO}$) and a Base ($\\text{NaOH}$)', conditions: 'Dilute Base ($\\text{NaOH}$ or $\\text{KOH}$), Heat (for condensation)', products: '$\\alpha, \\beta$-Unsaturated Aldehyde', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The base removes an $\\alpha$-hydrogen from one molecule of acetaldehyde to form the stabilized Enolate Ion.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The enolate attacks the carbonyl carbon of a second acetaldehyde molecule.'}, { label: 'Step 3: Protonation and Condensation', text: 'The resulting alkoxide is protonated to form the aldol product, which then loses water upon heating to give the final $\\alpha, \\beta$-unsaturated product.'} ] },
            { id: 'wurtz-reaction', name: 'Wurtz Reaction', description: 'A coupling reaction in organic chemistry where two alkyl halides ($\\text{RX}$) react with metallic sodium ($\\text{Na}$) in the presence of dry ether to form a higher alkane ($\\text{R-R}$) and sodium halide ($\\text{NaX}$).', reactants: 'Alkyl Halides ($\\text{R-X}$) and Sodium Metal ($\\text{Na}$)', conditions: 'Dry Ether, Metallic Sodium ($\\text{Na}$)', products: 'A Symmetrical Higher Alkane ($\\text{R-R}$)', visualizerSteps: [{ label: 'Step 1: Radical Formation', text: 'Sodium metal donates an electron to the alkyl halide ($\\text{R-X}$) to form a free radical ($\\text{R}\\cdot$) and a sodium halide ($\\text{NaX}$).'}, { label: 'Step 2: Coupling', text: 'Two alkyl free radicals ($\\text{R}\\cdot$) rapidly combine to form a symmetrical alkane ($\\text{R-R}$).'}, { label: 'Step 3: Overall Equation', text: '$2\\text{R-X} + 2\\text{Na} \\xrightarrow{\\text{Dry Ether}} \\text{R-R} + 2\\text{NaX}$'} ] },
            { id: 'williamson-ether', name: 'Williamson Ether Synthesis', description: 'A method for preparing ethers by the reaction of an alkoxide ion ($\\text{R-O}^-$) with a primary alkyl halide ($\\text{R\'-X}$) via an $\\text{S}_N2$ mechanism.', reactants: 'Sodium Alkoxide ($\\text{R-ONa}$) and Primary Alkyl Halide ($\\text{R\'-X}$)', conditions: 'Polar, Aprotic Solvent (e.g., DMSO or DMF)', products: 'Ether ($\\text{R-O-R\'}$)', visualizerSteps: [{ label: 'Step 1: Nucleophilic Alkoxide', text: 'The negatively charged alkoxide ion ($\\text{R-O}^-$) acts as a strong nucleophile.'}, { label: 'Step 2: $\\text{S}_N2$ Attack', text: 'The alkoxide rapidly attacks the electrophilic carbon of the primary alkyl halide ($\\text{R\'-X}$), displacing the halogen ($\\text{X}^-$).'}, { label: 'Step 3: Product Formation', text: 'The $\\text{R-O-R\'}$ ether product and a halide salt ($\\text{NaX}$) are formed.'} ] },
            { id: 'wittig', name: 'Wittig Reaction', description: 'A chemical reaction of an aldehyde or ketone with a triphenyl phosphonium ylide (phosphorane) to form an alkene (olefin).', reactants: 'Aldehyde/Ketone and Triphenyl Phosphonium Ylide ($\\text{R}_3\\text{P}^+\\text{C}^-\\text{R}_2$)', conditions: 'Aprotic Solvent (e.g., THF)', products: 'Alkene (Olefin) and Triphenylphosphine Oxide', visualizerSteps: [{ label: 'Step 1: Ylide Nucleophilic Attack', text: 'The carbanion center of the ylide attacks the carbonyl carbon, forming a zwitterionic betaine intermediate.'}, { label: 'Step 2: Oxaphosphetane Formation', text: 'The betaine intermediate cyclizes to form a four-membered ring intermediate called the oxaphosphetane.'}, { label: 'Step 3: Elimination', text: 'The oxaphosphetane decomposes to yield the alkene product and triphenylphosphine oxide ($\\text{R}_3\\text{P}=\\text{O}$), driven by the strong $\\text{P}=\\text{O}$ bond.'} ] },
            { id: 'cannizzaro', name: 'Cannizzaro Reaction', description: 'A redox reaction where two molecules of an aldehyde lacking an $\\alpha$-hydrogen disproportionate in the presence of a strong base to produce a primary alcohol and a carboxylic acid salt.', reactants: 'Aldehyde without $\\alpha$-H (e.g., Formaldehyde, Benzaldehyde)', conditions: 'Concentrated Base (e.g., $\\text{NaOH}$ or $\\text{KOH}$)', products: 'Primary Alcohol and Carboxylic Acid Salt', visualizerSteps: [{ label: 'Step 1: Hydride Addition', text: 'A hydroxide ion attacks the carbonyl carbon of one aldehyde, forming a tetrahedral intermediate.'}, { label: 'Step 2: Hydride Transfer', text: 'The intermediate collapses, transferring a hydride ion ($\\text{H}^-$) to a second aldehyde molecule. This is the rate-determining step.'}, { label: 'Step 3: Proton Exchange and Products', text: 'The newly formed carboxylic acid quickly exchanges a proton with the newly formed alkoxide, yielding the stable acid salt and the primary alcohol.'} ] },
            { id: 'clemmensen', name: 'Clemmensen Reduction', description: 'A chemical reaction described as the reduction of a ketone or aldehyde to an alkane using amalgamated zinc and hydrochloric acid.', reactants: 'Aldehyde or Ketone', conditions: 'Zinc Amalgam ($\\text{Zn}(\\text{Hg})$) and Concentrated $\\text{HCl}$', products: 'Alkane (Deoxygenated Product)', visualizerSteps: [{ label: 'Step 1: Protonation and Coordination', text: 'The carbonyl oxygen is protonated, and the zinc metal coordinates to the activated carbon, facilitating electron transfer.'}, { label: 'Step 2: Dication Formation', text: 'Two electrons are transferred from $\\text{Zn}$, leading to the formation of an organometallic species that rapidly loses water to form a carbocation-like dication.'}, { label: 'Step 3: Final Reduction', text: 'Further electron and proton transfers occur, replacing the oxygen atoms with hydrogen atoms to complete the reduction to the corresponding alkane.'} ] },
            { id: 'wolff-kishner', name: 'Wolff-Kishner Reduction', description: 'A reaction used to convert carbonyl functional groups (ketones or aldehydes) to the corresponding alkane, using hydrazine and a base under thermal conditions.', reactants: 'Aldehyde or Ketone and Hydrazine ($\\text{N}_2\\text{H}_4$)', conditions: 'Strong Base (e.g., $\\text{KOH}$), High Heat or High-Boiling Solvent', products: 'Alkane (Deoxygenated Product)', visualizerSteps: [{ label: 'Step 1: Hydrazone Formation', text: 'The carbonyl compound reacts with hydrazine to form a hydrazone, releasing water.'}, { label: 'Step 2: Enolate/Azo Formation', text: 'The base deprotonates the hydrazone, leading to the formation of an azo compound through resonance.'}, { label: 'Step 3: Nitrogen Elimination', text: 'The base removes the second proton, leading to the explosive loss of nitrogen gas ($\\text{N}_2$), and the formation of the reduced alkane product.'} ] },
            { id: 'diels-alder', name: 'Diels-Alder Reaction', description: 'A cycloaddition reaction between a conjugated diene and a substituted alkene (dienophile) to form a substituted cyclohexene system.', reactants: 'Conjugated Diene and Dienophile (Alkene/Alkyne)', conditions: 'Heat, Sometimes High Pressure', products: 'Substituted Cyclohexene', visualizerSteps: [{ label: 'Step 1: Pericyclic Transition State', text: 'The reaction proceeds through a concerted, single-step, six-electron cyclic transition state.'}, { label: 'Step 2: Bond Formation', text: 'Three $\\pi$ bonds break, and two new $\\sigma$ bonds and one new $\\pi$ bond form simultaneously.'}, { label: 'Step 3: Product Stereochemistry', text: 'The reaction is highly stereospecific, typically favoring the endo product where the electron-withdrawing groups are pointed inward.'} ] },
            { id: 'fischer-esterification', name: 'Fischer Esterification', description: 'The formation of an ester from a carboxylic acid and an alcohol, catalyzed by an acid, through nucleophilic acyl substitution.', reactants: 'Carboxylic Acid ($\\text{RCOOH}$) and Alcohol ($\\text{R\'-OH}$)', conditions: 'Acid Catalyst (e.g., $\\text{H}_2\\text{SO}_4$), Heat', products: 'Ester ($\\text{RCOOR\'}$) and Water', visualizerSteps: [{ label: 'Step 1: Carbonyl Activation', text: 'The carboxylic acid\'s carbonyl group is protonated by the acid catalyst, increasing its electrophilicity.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The alcohol (nucleophile) attacks the activated carbonyl carbon, forming a tetrahedral intermediate.'}, { label: 'Step 3: Water Loss and Deprotonation', text: 'After proton transfer, the hydroxyl group is protonated and leaves as water, followed by deprotonation to yield the final neutral ester product.'} ] },
            { id: 'kolbe-schmitt', name: 'Kolbe-Schmitt Reaction', description: 'A carboxylation reaction of phenols with carbon dioxide ($\\text{CO}_2$) under pressure and elevated temperature, leading to the formation of ortho-hydroxybenzoic acids (salicylic acid derivatives).', reactants: 'Sodium Phenoxide and Carbon Dioxide ($\\text{CO}_2$)', conditions: 'High Pressure (4-7 atm), High Temperature (125 $^\\circ\\text{C}$)', products: 'Salicylic Acid (ortho-Hydroxybenzoic Acid)', visualizerSteps: [{ label: 'Step 1: Phenoxide Formation', text: 'Phenol is deprotonated by a strong base to form the highly reactive phenoxide ion.'}, { label: 'Step 2: Electrophilic Attack', text: 'The phenoxide acts as a nucleophile, attacking the $\\text{CO}_2$ electrophile predominantly at the ortho position (thermodynamic control).'}, { label: 'Step 3: Tautomerization and Acidification', text: 'The intermediate cyclohexadienone tautomerizes back to the aromatic structure, which is then acidified (protonated) to give salicylic acid.'} ] },
            { id: 'sandmeyer', name: 'Sandmeyer Reaction', description: 'A reaction used to substitute the amino group of an aromatic primary amine with a halogen (Cl, Br) or a cyano group ($\\text{CN}$) via a diazonium salt intermediate.', reactants: 'Aromatic Primary Amine ($\\text{ArNH}_2$)', conditions: 'Nitrous Acid ($\\text{NaNO}_2$ and $\\text{HCl}$), Copper(I) Salts (e.g., $\\text{CuCl}$)', products: 'Aryl Halide or Aryl Nitrile', visualizerSteps: [{ label: 'Step 1: Diazotization', text: 'The aromatic amine is treated with nitrous acid to form the highly unstable and reactive aromatic diazonium salt ($\\text{ArN}_2^+$).'}, { label: 'Step 2: Radical Initiation', text: 'The diazonium ion complexes with the Copper(I) catalyst, which initiates a radical reaction by transferring an electron.'}, { label: 'Step 3: Substitution and Nitrogen Loss', text: 'The complex collapses, losing nitrogen gas ($\\text{N}_2$) and replacing the diazo group with the ligand from the copper salt ($\\text{Cl}^-$, $\\text{Br}^-$, or $\\text{CN}^-$).'} ] },
            { id: 'suzuki', name: 'Suzuki Coupling', description: 'A palladium-catalyzed cross-coupling reaction between an organoboron compound (boronic acid) and an organohalide to form a carbon-carbon single bond.', reactants: 'Aryl/Vinyl Halide ($\\text{R-X}$) and Organoboronic Acid ($\\text{R\'-B(OH)}_2$)', conditions: 'Palladium Catalyst (e.g., $\\text{Pd}(\\text{PPh}_3)_4$), Base (e.g., $\\text{K}_2\\text{CO}_3$)', products: 'Biaryl or Conjugated Alkene', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Pd}(0)$ catalyst inserts itself into the $\\text{R-X}$ bond of the halide to form a $\\text{Pd}(\\text{II})$ intermediate.'}, { label: 'Step 2: Transmetalation', text: 'The boron group of the boronic acid transfers the $\\text{R\'}$ group to the $\\text{Pd}(\\text{II})$ complex, often facilitated by the base.'}, { label: 'Step 3: Reductive Elimination', text: 'The two organic groups $\\text{R}$ and $\\text{R\'}$ couple together, and the $\\text{Pd}(0)$ catalyst is regenerated, completing the catalytic cycle.'} ] },
            { id: 'gatterman-koch', name: 'Gatterman-Koch Reaction', description: 'A Friedel-Crafts type formylation reaction where carbon monoxide ($\\text{CO}$) is used to introduce an aldehyde group ($\\text{-CHO}$) onto an aromatic ring.', reactants: 'Benzene or Substituted Benzene and Carbon Monoxide ($\\text{CO}$)', conditions: 'Lewis Acid ($\\text{AlCl}_3$), Trace $\\text{CuCl}$ or $\\text{HCl}$', products: 'Aromatic Aldehyde', visualizerSteps: [{ label: 'Step 1: Formyl Chloride Formation', text: 'The Lewis acid and $\\text{CO}$ generate the highly electrophilic Formyl Cation ($\\text{H-C}^+=\\text{O}$).'}, { label: 'Step 2: Electrophilic Attack', text: 'The formyl cation attacks the aromatic ring, forming a resonance-stabilized carbocation intermediate (Arenium Ion).'}, { label: 'Step 3: Proton Abstraction', text: 'The base ($\\text{AlCl}_4^-$) removes a proton from the ring, restoring aromaticity and yielding the benzaldehyde product.'} ] },
            { id: 'hunsdiecker', name: 'Hunsdiecker Reaction', description: 'A halogenation reaction where the silver salt of a carboxylic acid reacts with a halogen (usually bromine or iodine) to form an alkyl halide.', reactants: 'Silver Carboxylate ($\\text{RCOOAg}$) and Halogen ($\\text{Br}_2$ or $\\text{I}_2$)', conditions: 'Non-Polar Solvent (e.g., $\\text{CCl}_4$), Heat', products: 'Alkyl Halide ($\\text{R-X}$)', visualizerSteps: [{ label: 'Step 1: Acyl Hypohalite Formation', text: 'The silver carboxylate reacts with the halogen to form a reactive intermediate, the Acyl Hypohalite.'}, { label: 'Step 2: Radical Generation', text: 'The hypohalite undergoes homolytic cleavage to form a carboxy radical ($\\text{RCOO}\\cdot$) and a halogen radical.'}, { label: 'Step 3: Decarboxylation and Coupling', text: 'The carboxy radical rapidly loses $\\text{CO}_2$ to form an alkyl radical ($\\text{R}\\cdot$), which then couples with a halogen radical to yield the alkyl halide product.'} ] },
            { id: 'reformatsky', name: 'Reformatsky Reaction', description: 'The addition of an $\\alpha$-halo ester to an aldehyde or ketone in the presence of zinc metal to form a $\\beta$-hydroxy ester.', reactants: 'Aldehyde/Ketone and $\\alpha$-Halo Ester', conditions: 'Zinc Metal ($\\text{Zn}$), Aprotic Solvent (e.g., Ether or Benzene)', products: '$\\beta$-Hydroxy Ester', visualizerSteps: [{ label: 'Step 1: Organozinc Formation', text: 'Zinc inserts into the carbon-halogen bond of the $\\alpha$-halo ester to form an organozinc compound, specifically an enolate-like intermediate.'}, { label: 'Step 2: Nucleophilic Addition', text: 'The organozinc intermediate (nucleophile) adds to the carbonyl carbon of the aldehyde or ketone.'}, { label: 'Step 3: Hydrolysis and Product', text: 'The resulting zinc alkoxide is hydrolyzed by weak acid or water to yield the final $\\beta$-hydroxy ester product.'} ] },
            { id: 'claisen-condensation', name: 'Claisen Condensation', description: 'A carbon-carbon bond forming reaction between two esters, or an ester and a ketone, catalyzed by a strong base, to form a $\\beta$-keto ester or $\\beta$-diketone.', reactants: 'Ester with $\\alpha$-H and an Alkoxide Base ($\\text{R\'O}^-$)', conditions: 'Alkoxide Base (e.g., $\\text{NaOCH}_3$), then Acidification', products: '$\\beta$-Keto Ester', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The strong base deprotonates the $\\alpha$-carbon of the ester to form a stabilized enolate ion.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The enolate attacks the carbonyl carbon of a second ester molecule.'}, { label: 'Step 3: Leaving Group Elimination', text: 'The tetrahedral intermediate collapses, eliminating the alkoxide ($\\text{R\'O}^-$) as the leaving group to form the $\\beta$-keto ester.'} ] },
            { id: 'pinacol-pinacolone', name: 'Pinacol-Pinacolone Rearrangement', description: 'An acid-catalyzed rearrangement of a 1,2-diol (Pinacol) to a ketone or aldehyde (Pinacolone) through the migration of an alkyl or aryl group.', reactants: '1,2-Diol (Pinacol)', conditions: 'Strong Acid (e.g., $\\text{H}_2\\text{SO}_4$), Heat', products: 'Ketone (Pinacolone) or Aldehyde', visualizerSteps: [{ label: 'Step 1: Protonation and Water Loss', text: 'One hydroxyl group is protonated, and then water is lost, forming a tertiary carbocation intermediate.'}, { label: 'Step 2: 1,2-Shift (Migration)', text: 'A methyl or aryl group migrates from the adjacent carbon to the cationic carbon, driven by the formation of a more stable oxonium ion.'}, { label: 'Step 3: Deprotonation', text: 'The oxonium ion is deprotonated by a base, yielding the stable rearranged ketone product (Pinacolone).'} ] },
            { id: 'benzoin', name: 'Benzoin Condensation', description: 'A reaction in which two molecules of an aromatic aldehyde, in the presence of a cyanide ion or $\\text{N}$-heterocyclic carbene catalyst, couple to form an $\\alpha$-hydroxy ketone (a Benzoin).', reactants: 'Aromatic Aldehyde (e.g., Benzaldehyde)', conditions: 'Cyanide Ion ($\\text{CN}^-$) or Vitamin $\\text{B}_1$ derivative', products: 'Benzoin ($\\alpha$-Hydroxy Ketone)', visualizerSteps: [{ label: 'Step 1: Cyanide Attack', text: 'The cyanide ion attacks the carbonyl carbon of the first aldehyde molecule, forming a cyanohydrin intermediate.'}, { label: 'Step 2: Tautomerization and Nucleophilicity', text: 'The $\\alpha$-hydrogen is removed, and the resulting carbanion attacks the carbonyl carbon of a second aldehyde molecule.'}, { label: 'Step 3: Elimination and Product', text: 'After proton transfer, the cyanide ion is eliminated as the stable leaving group, resulting in the formation of the benzoin product.'} ] },
            { id: 'dieckmann', name: 'Dieckmann Condensation', description: 'An intramolecular Claisen condensation reaction of a diester to form a cyclic $\\beta$-keto ester.', reactants: 'Diester (e.g., Adipate or Pimelate Esters)', conditions: 'Strong Base (e.g., $\\text{NaOEt}$ or $\\text{NaH}$), then Acidification', products: 'Cyclic $\\beta$-Keto Ester (typically 5- or 6-membered ring)', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The strong base forms an enolate ion from the $\\alpha$-carbon of one of the ester groups.'}, { label: 'Step 2: Intramolecular Attack', text: 'The enolate attacks the carbonyl group of the *other* ester group within the same molecule, forming a cyclic intermediate.'}, { label: 'Step 3: Cyclization and Product', text: 'The intermediate eliminates an alkoxide group ($\\text{R\'O}^-$), closing the ring and yielding the stable cyclic $\\beta$-keto ester.'} ] },
            { id: 'hofmann', name: 'Hofmann Rearrangement', description: 'The conversion of a primary amide to a primary amine with one fewer carbon atom, using a halogen (like bromine) and a strong base.', reactants: 'Primary Amide ($\\text{RCONH}_2$)', conditions: 'Halogen (e.g., $\\text{Br}_2$), Strong Base (e.g., $\\text{NaOH}$)', products: 'Primary Amine ($\\text{RNH}_2$)', visualizerSteps: [{ label: 'Step 1: Isocyanate Formation', text: 'The amide is halogenated and then loses a halide to form a nitrene-like intermediate, which rearranges to an isocyanate.'}, { label: 'Step 2: Hydrolysis of Isocyanate', text: 'The isocyanate reacts with water (from the aqueous base) to form an unstable carbamic acid.'}, { label: 'Step 3: Decarboxylation and Product', text: 'The carbamic acid rapidly decomposes, losing $\\text{CO}_2$ and yielding the final primary amine product.'} ] },
            { id: 'skraup', name: 'Skraup Synthesis', description: 'The formation of quinoline (a heterocyclic aromatic compound) by heating aniline with glycerol, concentrated sulfuric acid, and an oxidizing agent.', reactants: 'Aniline, Glycerol, and an Oxidizing Agent', conditions: 'Concentrated $\\text{H}_2\\text{SO}_4$, Heat', products: 'Quinoline (a nitrogen-containing heterocycle)', visualizerSteps: [{ label: 'Step 1: Acrolein Formation', text: 'Glycerol is dehydrated by $\\text{H}_2\\text{SO}_4$ to form $\\alpha, \\beta$-unsaturated aldehyde, Acrolein.'}, { label: 'Step 2: Michael Addition and Cyclization', text: 'Aniline adds to Acrolein (Michael addition), followed by intramolecular cyclization and dehydration.'}, { label: 'Step 3: Oxidation and Aromatization', text: 'The intermediate dihydroquinoline is oxidized by the nitrobenzene (or other oxidant) to restore aromaticity and yield quinoline.'} ] },
            { id: 'mannich', name: 'Mannich Reaction', description: 'An amino-alkylation reaction of an acidic proton (enolizable ketone/aldehyde) with formaldehyde and a primary or secondary amine (or ammonia) to form a $\\beta$-amino carbonyl compound (Mannich Base).', reactants: 'Enolizable Carbonyl, Formaldehyde, and an Amine', conditions: 'Acid Catalyst (e.g., $\\text{HCl}$), Heat', products: 'Mannich Base ($\\beta$-Amino Carbonyl)', visualizerSteps: [{ label: 'Step 1: Iminium Ion Formation', text: 'Formaldehyde reacts with the amine and acid to form the electrophilic Iminium ion.'}, { label: 'Step 2: Enolization', text: 'The enolizable carbonyl compound (aldehyde/ketone) forms its enol tautomer.'}, { label: 'Step 3: Nucleophilic Attack', text: 'The enol (nucleophile) attacks the Iminium ion (electrophile), forming the carbon-carbon bond and yielding the Mannich Base.'} ] },
            { id: 'heck', name: 'Heck Reaction', description: 'A palladium-catalyzed carbon-carbon bond forming reaction between an aryl or vinyl halide and an alkene, resulting in a substituted alkene.', reactants: 'Aryl/Vinyl Halide ($\\text{R-X}$) and Alkene', conditions: 'Palladium Catalyst (e.g., $\\text{Pd}(\\text{OAc})_2$), Base (e.g., $\\text{Et}_3\\text{N}$)', products: 'Substituted Alkene', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Pd}(0)$ catalyst inserts itself into the $\\text{R-X}$ bond, forming a $\\text{Pd}(\\text{II})$ intermediate.'}, { label: 'Step 2: Alkene Insertion', text: 'The alkene coordinates to the palladium and inserts into the $\\text{R-Pd}$ bond, forming an alkyl-palladium intermediate.'}, { label: 'Step 3: $\\beta$-Hydride Elimination', text: 'The complex undergoes $\\beta$-hydride elimination to form the substituted alkene product, and the $\\text{Pd}(0)$ catalyst is regenerated.'} ] },
            { id: 'stille', name: 'Stille Coupling', description: 'A palladium-catalyzed coupling reaction between an organotin compound (organostannane) and an $sp^2$-hybridized organohalide.', reactants: 'Aryl/Vinyl Halide ($\\text{R-X}$) and Organostannane ($\\text{R\'Sn}(\\text{Bu})_3$)', conditions: 'Palladium Catalyst, Solvent (e.g., THF)', products: 'Coupled Alkene or Biaryl', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Pd}(0)$ catalyst inserts into the $\\text{R-X}$ bond of the halide.'}, { label: 'Step 2: Transmetalation', text: 'The organic group $\\text{R\'}$ from the organostannane is transferred to the palladium intermediate, replacing the halogen.'}, { label: 'Step 3: Reductive Elimination', text: 'The $\\text{R}$ and $\\text{R\'}$ groups couple to form the final product, and the $\\text{Pd}(0)$ catalyst is regenerated.'} ] },
            { id: 'ozonolysis', name: 'Ozonolysis', description: 'The oxidative cleavage of an alkene or alkyne using ozone ($\\text{O}_3$), followed by reductive or oxidative work-up, to form carbonyl compounds.', reactants: 'Alkene or Alkyne and Ozone ($\\text{O}_3$)', conditions: 'Reductive work-up (e.g., $\\text{Zn}/\text{AcOH}$) or Oxidative work-up (e.g., $\\text{H}_2\\text{O}_2$)', products: 'Aldehydes, Ketones, or Carboxylic Acids', visualizerSteps: [{ label: 'Step 1: Molozonide Formation', text: 'Ozone adds to the double bond in a 1,3-dipolar cycloaddition to form an unstable five-membered ring intermediate called the primary ozonide (molozonide).'}, { label: 'Step 2: Ozonide Formation', text: 'The molozonide rapidly decomposes and rearranges to the more stable ozonide secondary intermediate.'}, { label: 'Step 3: Work-up', text: 'The ozonide is then cleaved by reductive work-up to form aldehydes/ketones, or by oxidative work-up to form carboxylic acids.'} ] },
            { id: 'grignard', name: 'Grignard Reaction (Addition)', description: 'The addition of an organomagnesium halide (Grignard Reagent) to a carbonyl compound to form a primary, secondary, or tertiary alcohol.', reactants: 'Grignard Reagent ($\\text{RMgX}$) and Aldehyde/Ketone', conditions: 'Dry Ether or THF, then Acid Work-up', products: 'Alcohol (Primary, Secondary, or Tertiary)', visualizerSteps: [{ label: 'Step 1: Nucleophilic Attack', text: 'The carbanion-like $\\text{R}$ group of the Grignard reagent acts as a strong nucleophile, attacking the electrophilic carbonyl carbon.'}, { label: 'Step 2: Alkoxide Formation', text: 'The double bond breaks, and an $\\text{RMgX}$ group coordinates to the oxygen, forming an intermediate alkoxide salt.'}, { label: 'Step 3: Protonation', text: 'The alkoxide is treated with dilute acid (work-up), protonating the oxygen and yielding the final alcohol product.'} ] },
            { id: 'strecker', name: 'Strecker Synthesis', description: 'A method for synthesizing $\\alpha$-amino acids from an aldehyde, ammonia (or an amine), and hydrogen cyanide ($\\text{HCN}$).', reactants: 'Aldehyde, Ammonia ($\\text{NH}_3$), and $\\text{HCN}$', conditions: 'Acidic or Basic Aqueous Solution', products: '$\\alpha$-Amino Acid', visualizerSteps: [{ label: 'Step 1: Iminium Formation', text: 'The aldehyde reacts with ammonia to form an imine, which is protonated to the electrophilic Iminium ion.'}, { label: 'Step 2: Cyanide Attack', text: 'The cyanide ion ($\\text{CN}^-$) attacks the Iminium ion to form an $\\alpha$-aminonitrile intermediate.'}, { label: 'Step 3: Hydrolysis', text: 'The nitrile group is hydrolyzed under aqueous acidic conditions to yield the final $\\alpha$-amino acid.'} ] },
            { id: 'curtius', name: 'Curtius Rearrangement', description: 'The thermal decomposition of an acyl azide to an isocyanate, which can then be hydrolyzed to a primary amine, effectively converting a carboxylic acid to an amine with one fewer carbon atom.', reactants: 'Acyl Azide ($\\text{RCON}_3$)', conditions: 'Heat (Thermal Decomposition)', products: 'Primary Amine ($\\text{RNH}_2$) or Carbamate', visualizerSteps: [{ label: 'Step 1: Nitrogen Loss', text: 'The acyl azide loses nitrogen gas ($\\text{N}_2$) upon heating, forming a highly unstable, electron-deficient nitrene intermediate.'}, { label: 'Step 2: Alkyl Migration', text: 'The alkyl group ($\\text{R}$) rapidly migrates from the carbonyl carbon to the nitrogen, simultaneously forming the stable Isocyanate intermediate.'}, { label: 'Step 3: Hydrolysis', text: 'The isocyanate is quenched with water or an alcohol to yield the primary amine or a carbamate, respectively.'} ] },
            { id: 'baeyer-villiger', name: 'Baeyer-Villiger Oxidation', description: 'The oxidation of ketones to esters (or aldehydes to carboxylic acids) using a peroxy acid (e.g., $\\text{mCPBA}$).', reactants: 'Ketone or Aldehyde and Peroxy Acid ($\\text{RCOOOH}$)', conditions: 'Non-nucleophilic Solvent', products: 'Ester (from Ketone) or Carboxylic Acid (from Aldehyde)', visualizerSteps: [{ label: 'Step 1: Peroxy Acid Addition', text: 'The carbonyl oxygen is protonated, and the peroxy acid adds to the carbonyl carbon, forming a Criegee intermediate.'}, { label: 'Step 2: Rearrangement (Migration)', text: 'The group with the higher migratory aptitude (e.g., tertiary alkyl > secondary > primary) migrates from the carbonyl carbon to the oxygen, simultaneously eliminating the carboxylic acid.'}, { label: 'Step 3: Product Formation', text: 'Deprotonation yields the stable ester (or carboxylic acid) product.'} ] },
            { id: 'biginelli', name: 'Biginelli Reaction', description: 'A multicomponent reaction involving an aldehyde, $\\beta$-keto ester, and urea to form 3,4-dihydropyrimidinones (DHPMs), key building blocks in medicinal chemistry.', reactants: 'Aldehyde, $\\beta$-Keto Ester, and Urea', conditions: 'Acid Catalyst (e.g., $\\text{HCl}$), Heat', products: '3,4-Dihydropyrimidinone (DHPM)', visualizerSteps: [{ label: 'Step 1: Iminium Ion Formation', text: 'Urea and the aldehyde condense to form an iminium ion electrophile.'}, { label: 'Step 2: Enolate Attack', text: 'The $\\beta$-keto ester enolizes and attacks the iminium ion in a key $\\text{C-C}$ bond formation step.'}, { label: 'Step 3: Cyclization and Condensation', text: 'The resulting intermediate cyclizes via an intramolecular nucleophilic attack, followed by final dehydration to yield the DHPM heterocycle.'} ] },
            { id: 'buchwald-hartwig', name: 'Buchwald-Hartwig Amination', description: 'A palladium-catalyzed cross-coupling reaction that forms a carbon-nitrogen bond (C-N) between an aryl halide and an amine.', reactants: 'Aryl Halide ($\\text{Ar-X}$) and Amine ($\\text{R}_2\\text{NH}$)', conditions: 'Palladium Catalyst, Phosphine Ligand, Strong Base', products: 'Aryl Amine (e.g., Secondary or Tertiary Amines)', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Pd}(0)$ catalyst inserts into the $\\text{Ar-X}$ bond.'}, { label: 'Step 2: Amine Deprotonation and Transmetalation', text: 'The strong base deprotonates the amine, and the resulting amide anion transfers the nitrogen atom to the palladium center.'}, { label: 'Step 3: Reductive Elimination', text: 'The $\\text{Ar}$ and $\\text{N}$ groups couple, releasing the aryl amine product and regenerating the $\\text{Pd}(0)$ catalyst.'} ] },

            // --- 26-100 (New Reactions Added) ---

            { id: 'sonogashira', name: 'Sonogashira Coupling', description: 'A coupling reaction between a terminal alkyne and an aryl or vinyl halide, catalyzed by palladium and copper, to form a conjugated alkyne.', reactants: 'Terminal Alkyne and Aryl/Vinyl Halide', conditions: 'Pd(0) Catalyst, Cu(I) Co-catalyst, Amine Base', products: 'Substituted Alkyne ($\\text{R-C}\\equiv\\text{C-R\'}$)', visualizerSteps: [{ label: 'Step 1: Acetylide Formation', text: 'The terminal alkyne reacts with the copper salt to form the nucleophilic copper acetylide.'}, { label: 'Step 2: Oxidative Addition', text: 'The $\\text{Pd}(0)$ inserts into the $\\text{R-X}$ bond.'}, { label: 'Step 3: Transmetalation/Coupling', text: 'The copper acetylide transfers the acetylide group to the palladium, followed by reductive elimination to form the coupled alkyne.'} ] },
            { id: 'negishi', name: 'Negishi Coupling', description: 'A palladium or nickel-catalyzed cross-coupling reaction involving an organozinc compound and an organohalide.', reactants: 'Organozinc Reagent ($\\text{RZnX}$) and Aryl/Vinyl Halide ($\\text{R\'X}$)', conditions: 'Pd(0) or Ni(0) Catalyst, Solvent (e.g., THF)', products: 'Coupled Hydrocarbon ($\\text{R-R\'}$)', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Pd}(0)$ catalyst inserts into the $\\text{R\'X}$ bond.'}, { label: 'Step 2: Transmetalation', text: 'The $\\text{R}$ group is transferred from the zinc reagent to the palladium, forming a $\\text{Pd}(\\text{II})$ intermediate.'}, { label: 'Step 3: Reductive Elimination', text: 'The two organic groups $\\text{R}$ and $\\text{R\'}$ couple to form the product, and the $\\text{Pd}(0)$ is regenerated.'} ] },
            { id: 'knoevenagel', name: 'Knoevenagel Condensation', description: 'A nucleophilic addition of an active hydrogen compound to a carbonyl group, followed by dehydration, often using an amine catalyst, to form an $\\alpha, \\beta$-unsaturated dicarbonyl compound.', reactants: 'Aldehyde/Ketone and Compound with Active $\\text{CH}_2$ (e.g., Malonic Ester)', conditions: 'Amine Catalyst (e.g., Piperidine)', products: '$\\alpha, \\beta$-Unsaturated Dicarbonyl', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The amine base forms an enolate from the active methylene compound.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The enolate attacks the carbonyl carbon of the aldehyde/ketone.'}, { label: 'Step 3: Dehydration', text: 'The resulting intermediate loses water to form the stable conjugated product.'} ] },
            { id: 'darzens', name: 'Darzens Condensation', description: 'The reaction of an aldehyde or ketone with an $\\alpha$-halo ester in the presence of a base to form an $\\alpha, \\beta$-epoxy ester (glycidic ester).', reactants: 'Aldehyde/Ketone and $\\alpha$-Halo Ester', conditions: 'Strong Base (e.g., $\\text{NaOEt}$)', products: 'Glycidic Ester (Epoxy Ester)', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The base forms the carbanion (enolate) from the $\\alpha$-halo ester.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The carbanion attacks the carbonyl carbon.'}, { label: 'Step 3: Intramolecular $\\text{S}_N2$', text: 'The resulting alkoxide attacks the carbon bearing the halogen in an intramolecular $\\text{S}_N2$ step, closing the epoxide ring.'} ] },
            { id: 'stobbe', name: 'Stobbe Condensation', description: 'A reaction of a ketone or aldehyde with a succinate ester in the presence of a strong base to yield a half ester (or half acid) that contains an $\\text{C}=\\text{C}$ double bond.', reactants: 'Aldehyde/Ketone and Diethyl Succinate', conditions: 'Strong Base (e.g., $\\text{NaH}$ or $\\text{NaOEt}$)', products: 'Alkenyl Half-Ester', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The strong base generates an enolate from the succinate ester.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The enolate attacks the carbonyl group of the aldehyde or ketone.'}, { label: 'Step 3: Cyclization and Elimination', text: 'The intermediate undergoes intramolecular cyclization to form a lactone, which then opens to yield the stable alkenyl half-ester.'} ] },
            { id: 'gabriel', name: 'Gabriel Synthesis', description: 'A method for synthesizing primary amines from alkyl halides using potassium phthalimide.', reactants: 'Potassium Phthalimide and Primary Alkyl Halide', conditions: 'Heat, then Hydrazine ($\\text{N}_2\\text{H}_4$)', products: 'Primary Amine ($\\text{RNH}_2$)', visualizerSteps: [{ label: 'Step 1: $\\text{S}_N2$ Alkylation', text: 'The phthalimide anion acts as a nucleophile, attacking the primary alkyl halide to form an $\\text{N}$-alkyl phthalimide.'}, { label: 'Step 2: Amine Release (Hydrolysis)', text: 'The $\\text{N}$-alkyl phthalimide is heated with hydrazine (or acid/base) to cleave the imide ring.'}, { label: 'Step 3: Product Formation', text: 'The desired primary amine product is released, and the phthalhydrazide byproduct is formed.'} ] },
            { id: 'vilsmeier-haack', name: 'Vilsmeier-Haack Formylation', description: 'A formylation reaction that allows the attachment of a formyl group ($\\text{-CHO}$) to electron-rich aromatic compounds (e.g., pyrroles, furans) using phosphorus oxychloride and $\\text{N}, \text{N}$-dimethylformamide (DMF).', reactants: 'Aromatic Compound and $\\text{DMF}$ (Dimethylformamide)', conditions: 'Phosphorus Oxychloride ($\\text{POCl}_3$)', products: 'Aromatic Aldehyde', visualizerSteps: [{ label: 'Step 1: Vilsmeier Reagent Formation', text: '$\\text{DMF}$ and $\\text{POCl}_3$ react to form the highly electrophilic Vilsmeier reagent (Iminium salt).'}, { label: 'Step 2: Electrophilic Attack', text: 'The electron-rich aromatic ring attacks the Vilsmeier reagent.'}, { label: 'Step 3: Hydrolysis', text: 'Subsequent hydrolysis of the resulting iminium intermediate yields the final aromatic aldehyde product.'} ] },
            { id: 'reimer-tiemann', name: 'Reimer-Tiemann Reaction', description: 'A substitution reaction that inserts an aldehyde group ($\\text{-CHO}$) onto the ortho position of phenols using chloroform ($\\text{CHCl}_3$) in basic solution.', reactants: 'Phenol and Chloroform ($\\text{CHCl}_3$)', conditions: 'Strong Base (e.g., $\\text{NaOH}$ or $\\text{KOH}$), Heat', products: 'Salicylaldehyde (ortho-Hydroxybenzaldehyde)', visualizerSteps: [{ label: 'Step 1: Dichlorocarbene Generation', text: 'The strong base reacts with $\\text{CHCl}_3$ to form the key electrophilic intermediate: Dichlorocarbene ($\\text{:CCl}_2$).'}, { label: 'Step 2: Electrophilic Attack', text: 'The highly nucleophilic phenoxide ion attacks the dichlorocarbene, forming a substituted cyclohexadienone intermediate.'}, { label: 'Step 3: Hydrolysis and Tautomerization', text: 'The intermediate undergoes hydrolysis and then tautomerization to restore aromaticity, yielding salicylaldehyde.'} ] },
            { id: 'oppenauer', name: 'Oppenauer Oxidation', description: 'The selective oxidation of a secondary alcohol to a ketone using aluminum tert-butoxide catalyst and an excess of an aldehyde or ketone (e.g., acetone) as the hydrogen acceptor.', reactants: 'Secondary Alcohol ($\\text{R}_2\\text{CHOH}$)', conditions: 'Aluminum tert-Butoxide, Acetone (Hydrogen Acceptor)', products: 'Ketone ($\\text{R}_2\\text{C}=\\text{O}$)', visualizerSteps: [{ label: 'Step 1: Coordination', text: 'The secondary alcohol coordinates to the aluminum catalyst.'}, { label: 'Step 2: Hydride Transfer', text: 'The coordinated alcohol transfers a hydride ion ($\\text{H}^-$) to the carbonyl of the acetone acceptor via a six-membered cyclic transition state.'}, { label: 'Step 3: Product and Catalyst Turnover', text: 'The ketone product is released, and the aluminum catalyst is ready for the next cycle.'} ] },
            { id: 'mpv', name: 'Meerwein-Ponndorf-Verley (MPV) Reduction', description: 'The reduction of ketones and aldehydes to their corresponding alcohols using aluminum isopropoxide and isopropanol. This is the reverse of the Oppenauer oxidation.', reactants: 'Aldehyde/Ketone', conditions: 'Aluminum Isopropoxide, Isopropanol', products: 'Primary or Secondary Alcohol', visualizerSteps: [{ label: 'Step 1: Coordination', text: 'The carbonyl oxygen coordinates to the aluminum catalyst.'}, { label: 'Step 2: Hydride Transfer', text: 'A hydride ion is transferred from the isopropanol (coordinated to aluminum) to the carbonyl carbon via a cyclic transition state.'}, { label: 'Step 3: Product Release', text: 'The alcohol product is released, and acetone (the oxidized solvent) is formed.'} ] },
            { id: 'jones', name: 'Jones Oxidation', description: 'The oxidation of primary alcohols to carboxylic acids and secondary alcohols to ketones using chromic acid in acetone.', reactants: 'Primary or Secondary Alcohol', conditions: 'Chromium Trioxide ($\\text{CrO}_3$), Sulfuric Acid, Acetone', products: 'Ketone or Carboxylic Acid', visualizerSteps: [{ label: 'Step 1: Chromate Ester Formation', text: 'The alcohol reacts with chromic acid (generated in situ) to form a chromate ester.'}, { label: 'Step 2: E2 Elimination', text: 'A water molecule (or solvent) acts as a base, abstracting an $\\alpha$-hydrogen and simultaneously eliminating the chromium group, forming the ketone/aldehyde.'}, { label: 'Step 3: Further Oxidation (Primary Alcohol)', text: 'If a primary alcohol is used, the resulting aldehyde is quickly oxidized further to the carboxylic acid.'} ] },
            { id: 'swern', name: 'Swern Oxidation', description: 'A very mild oxidation method to convert primary and secondary alcohols into aldehydes and ketones, respectively, using oxalyl chloride, dimethyl sulfoxide ($\text{DMSO}$), and an amine base (e.g., $\text{Et}_3\text{N}$).', reactants: 'Primary or Secondary Alcohol', conditions: 'Oxalyl Chloride ($\\text{ClCO}_2\\text{COCl}$), $\\text{DMSO}$, Triethylamine', products: 'Aldehyde or Ketone', visualizerSteps: [{ label: 'Step 1: Sulfonium Ylide Formation', text: 'Oxalyl chloride and $\\text{DMSO}$ react to form the intermediate chloro-sulfonium salt.'}, { label: 'Step 2: Alcohol Attack', text: 'The alcohol attacks the sulfonium center, displacing chlorine and forming an activated alkoxysulfonium ylide.'}, { label: 'Step 3: E2 Elimination', text: 'The triethylamine base removes an $\\alpha$-hydrogen from the alcohol, eliminating $\\text{Me}_2\text{S}$ (dimethyl sulfide) and forming the carbonyl product.'} ] },
            { id: 'birch', name: 'Birch Reduction', description: 'A selective reduction of aromatic rings to non-conjugated cyclohexadienes using sodium or lithium metal in liquid ammonia and an alcohol.', reactants: 'Aromatic Ring (e.g., Benzene)', conditions: 'Sodium or Lithium Metal, Liquid $\\text{NH}_3$, Ethanol', products: 'Non-Conjugated 1,4-Cyclohexadiene', visualizerSteps: [{ label: 'Step 1: Electron Transfer', text: 'The metal dissolves, releasing a solvated electron, which adds to the aromatic ring to form a radical anion.'}, { label: 'Step 2: Protonation', text: 'The alcohol (acid) protonates the radical anion, typically at the C4 position.'}, { label: 'Step 3: Second Electron Transfer and Protonation', text: 'A second electron is added, followed by a second protonation to yield the 1,4-cyclohexadiene product.'} ] },
            { id: 'beckmann', name: 'Beckmann Rearrangement', description: 'The acid-catalyzed rearrangement of an oxime to an amide, which involves the migration of the group anti (trans) to the hydroxyl group of the oxime.', reactants: 'Ketoxime', conditions: 'Strong Acid Catalyst (e.g., $\\text{H}_2\\text{SO}_4$, $\\text{PCl}_5$)', products: 'Amide', visualizerSteps: [{ label: 'Step 1: Activation', text: 'The hydroxyl group of the oxime is protonated by the acid.'}, { label: 'Step 2: Migration', text: 'The group anti to the $\\text{OH}_2^+$ leaving group migrates to the nitrogen, and water leaves simultaneously, forming a nitrilium ion intermediate.'}, { label: 'Step 3: Hydrolysis', text: 'The nitrilium ion is attacked by water (nucleophile), followed by tautomerization and deprotonation to yield the stable amide product.'} ] },
            { id: 'cope', name: 'Cope Rearrangement', description: 'A thermal [3,3]-sigmatropic rearrangement of a 1,5-diene, forming an isomeric 1,5-diene via a chair-like six-membered ring transition state.', reactants: '1,5-Diene', conditions: 'Heat (Thermal, no catalyst)', products: 'Isomeric 1,5-Diene', visualizerSteps: [{ label: 'Step 1: Bond Cleavage', text: 'The $\\text{C}_3$-$\\text{C}_4$ bond breaks homolytically in the cyclic transition state.'}, { label: 'Step 2: Bond Formation', text: 'Simultaneously, a new bond forms between $\\text{C}_1$ and $\\text{C}_6$.'}, { label: 'Step 3: Product Release', text: 'The $\\pi$ bonds shift, yielding the isomerized 1,5-diene product, driven by ring strain relief or conjugation.'} ] },
            { id: 'claisen-rearrangement', name: 'Claisen Rearrangement (Aryl Vinyl Ether)', description: 'A thermal [3,3]-sigmatropic rearrangement of allyl vinyl ethers or allyl aryl ethers, typically yielding $\\gamma, \delta$-unsaturated carbonyl compounds or ortho-allylphenols, respectively.', reactants: 'Allyl Vinyl Ether or Allyl Phenyl Ether', conditions: 'Heat (Thermal)', products: '$\\gamma, \delta$-Unsaturated Carbonyl or $\\text{o}$-Allylphenol', visualizerSteps: [{ label: 'Step 1: Cyclic Transition State', text: 'The reaction proceeds through a chair-like six-membered ring transition state.'}, { label: 'Step 2: Pericyclic Shift', text: 'Three $\\pi$ bonds shift simultaneously, breaking the ether bond and forming a new $\\text{C-C}$ bond.'}, { label: 'Step 3: Tautomerization (Phenols)', text: 'If an aryl ether is used, the intermediate ketone undergoes keto-enol tautomerization to restore aromaticity and form the $\\text{o}$-allylphenol.'} ] },
            { id: 'wagner-meerwein', name: 'Wagner-Meerwein Rearrangement', description: 'A carbocation rearrangement where a substituent (usually a hydride, alkyl, or aryl group) moves to an adjacent electron-deficient site, converting a primary or secondary carbocation into a more stable secondary or tertiary carbocation.', reactants: 'Carbocation Precursor (e.g., Protonated Alcohol)', conditions: 'Acid Catalyst (e.g., $\\text{H}_2\\text{SO}_4$)', products: 'Rearranged Alkene or Alcohol', visualizerSteps: [{ label: 'Step 1: Carbocation Formation', text: 'The leaving group (e.g., $\\text{H}_2\text{O}$ from an alcohol) departs, generating a less stable carbocation.'}, { label: 'Step 2: 1,2-Shift', text: 'A hydride ($\\text{H}^-$), alkyl ($\\text{R}^-$), or aryl group ($\\text{Ar}^-$) migrates from the adjacent carbon to the cationic carbon.'}, { label: 'Step 3: Product Formation', text: 'The new, more stable carbocation is quenched by a nucleophile or undergoes elimination to form an alkene.'} ] },
            { id: 'schmidt', name: 'Schmidt Reaction', description: 'A reaction in which a carbonyl compound reacts with hydrazoic acid ($\\text{HN}_3$) under acidic conditions to produce an amine (from aldehydes/ketones) or an amide (from ketones).', reactants: 'Ketone or Aldehyde and Hydrazoic Acid ($\\text{HN}_3$)', conditions: 'Strong Acid Catalyst (e.g., $\\text{H}_2\\text{SO}_4$)', products: 'Amine or Amide', visualizerSteps: [{ label: 'Step 1: Azide Addition', text: 'The protonated carbonyl is attacked by $\\text{HN}_3$ to form a tetrahedral intermediate.'}, { label: 'Step 2: Rearrangement', text: 'Nitrogen gas ($\\text{N}_2$) is lost, and the migration of the alkyl group occurs, forming a nitrilium ion (similar to Beckmann).'}, { label: 'Step 3: Hydrolysis', text: 'The intermediate is hydrolyzed to yield the final amine or amide product, depending on the reactant.'} ] },
            { id: 'lossen', name: 'Lossen Rearrangement', description: 'The thermal rearrangement of an $\\text{O}$-acyl derivative of a hydroxamic acid to form an isocyanate, which then hydrolyzes to a primary amine (similar to Hofmann).', reactants: 'Hydroxamic Acid $\\text{O}$-Acyl Derivative', conditions: 'Base (e.g., $\\text{NaOH}$), Heat', products: 'Primary Amine ($\\text{RNH}_2$) and $\\text{CO}_2$', visualizerSteps: [{ label: 'Step 1: Base Activation', text: 'The hydroxamic acid derivative is deprotonated by the base.'}, { label: 'Step 2: Rearrangement', text: 'The $\\text{O}$-acyl group departs, and the alkyl group ($\\text{R}$) migrates from carbon to nitrogen, forming the isocyanate.'}, { label: 'Step 3: Hydrolysis', text: 'The isocyanate intermediate is hydrolyzed by water to form the final primary amine product.'} ] },
            { id: 'mitsunobu', name: 'Mitsunobu Reaction', description: 'A mild method for converting an alcohol into various functional groups (esters, amines, ethers) using triphenylphosphine ($\\text{PPh}_3$) and diethyl azodicarboxylate ($\text{DEAD}$) or diisopropyl azodicarboxylate ($\text{DIAD}$).', reactants: 'Alcohol, Nucleophilic Acid (e.g., Carboxylic Acid), $\\text{PPh}_3$, $\\text{DEAD}$', conditions: 'Aprotic Solvent (e.g., $\\text{THF}$)', products: 'Inversion of Stereochemistry (e.g., Ester, Ether)', visualizerSteps: [{ label: 'Step 1: Activation', text: 'The $\\text{PPh}_3$ and $\\text{DEAD}$ react to form a phosphonium intermediate.'}, { label: 'Step 2: Alcohol Attack', text: 'The alcohol attacks the phosphonium salt, displacing nitrogen and activating the alcohol as a good leaving group.'}, { label: 'Step 3: $\\text{S}_N2$ Attack', text: 'The nucleophilic acid (anion) attacks the activated carbon center in an $\\text{S}_N2$ fashion, resulting in inversion of stereochemistry.'} ] },
            { id: 'sharpless-epoxidation', name: 'Sharpless Epoxidation', description: 'An enantioselective reaction that converts primary and secondary allylic alcohols into 2,3-epoxyalcohols, catalyzed by titanium isopropoxide, tert-butyl hydroperoxide ($\text{TBHP}$), and a chiral diethyl tartrate ligand.', reactants: 'Allylic Alcohol, $\\text{TBHP}$', conditions: 'Titanium Isopropoxide, Chiral Diethyl Tartrate (DET)', products: 'Chiral 2,3-Epoxyalcohol', visualizerSteps: [{ label: 'Step 1: Catalyst Complexation', text: 'The titanium catalyst, the chiral ligand, and the allylic alcohol form a reactive coordination complex.'}, { label: 'Step 2: Oxygen Transfer', text: 'The $\\text{TBHP}$ transfers an oxygen atom to the alkene within the complex via a cyclic transition state.'}, { label: 'Step 3: Epoxide Formation', text: 'The epoxide is formed with high enantioselectivity, determined by the chirality of the tartrate ligand (D- or L-DET).'} ] },
            { id: 'simon-smith', name: 'Simmons-Smith Cyclopropanation', description: 'A reaction that converts an alkene into a cyclopropane using diiodomethane ($\\text{CH}_2\\text{I}_2$) and zinc metal (or zinc-copper couple).', reactants: 'Alkene and Diiodomethane ($\\text{CH}_2\\text{I}_2$)', conditions: 'Zinc-Copper Couple ($\\text{Zn}(\\text{Cu})$)', products: 'Cyclopropane', visualizerSteps: [{ label: 'Step 1: Organozinc Formation', text: 'Zinc inserts into the $\\text{C-I}$ bond of diiodomethane to form the key intermediate: Iodomethyl Zinc Iodide ($\\text{ICH}_2\\text{ZnI}$), often referred to as the Simmons-Smith reagent.'}, { label: 'Step 2: Concerted Addition', text: 'The alkene reacts with the reagent in a single, concerted step. The $\\text{CH}_2$ group is transferred across the double bond.'}, { label: 'Step 3: Ring Closure', text: 'The two new $\\text{C-C}$ bonds form simultaneously, resulting in the cyclopropane ring.'} ] },
            { id: 'grubbs', name: 'Grubbs Olefin Metathesis', description: 'A reaction that catalyzes the redistribution of alkene fragments using ruthenium-based carbene complexes (Grubbs catalysts) to form new carbon-carbon double bonds.', reactants: 'Two Alkenes (e.g., Terminal Alkenes)', conditions: 'Grubbs Catalyst (Ruthenium Carbene), Solvent', products: 'New Alkenes and Ethylene ($\\text{C}_2\\text{H}_4$)', visualizerSteps: [{ label: 'Step 1: Cycloaddition', text: 'The alkene coordinates to the ruthenium carbene and undergoes a [2+2] cycloaddition to form a ruthenacyclobutane intermediate.'}, { label: 'Step 2: Cycloreversion', text: 'The ruthenacyclobutane cycloreverts, eliminating the starting carbene or ethylene ($\text{C}_2\text{H}_4$) and generating a new ruthenium carbene.'}, { label: 'Step 3: Chain Propagation', text: 'This new carbene reacts with another alkene molecule to continue the chain reaction until equilibrium is reached.'} ] },
            { id: 'ulllmann', name: 'Ullmann Coupling', description: 'A copper-catalyzed reaction used to synthesize symmetrical biaryl compounds from aryl halides.', reactants: 'Aryl Halide ($\\text{Ar-X}$)', conditions: 'Stoichiometric Copper Metal ($\\text{Cu}$), High Heat (Thermal)', products: 'Symmetrical Biaryl ($\\text{Ar-Ar}$)', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'Copper powder reacts with the aryl halide to form an organocopper(III) intermediate (historically understood as $\\text{Ar-Cu}$ complex).'}, { label: 'Step 2: Transmetalation', text: 'A second molecule of aryl halide reacts, transferring a second aryl group to the copper center.'}, { label: 'Step 3: Reductive Elimination', text: 'The two aryl groups couple, eliminating the biaryl product and regenerating the copper catalyst/species (though often stoichiometric $\\text{Cu}$ is required).'} ] },
            { id: 'gatterman', name: 'Gatterman Reaction', description: 'The preparation of aldehydes using $\\text{HCN}$ and $\\text{HCl}$ to form an imine intermediate, which is then hydrolyzed. It is less complex than Gatterman-Koch, using $\\text{HCN}$ instead of $\\text{CO}$.', reactants: 'Benzene or Substituted Benzene, $\\text{HCN}$', conditions: 'Lewis Acid (e.g., $\\text{AlCl}_3$ or $\\text{ZnCl}_2$)', products: 'Aromatic Aldehyde', visualizerSteps: [{ label: 'Step 1: Electrophile Formation', text: 'The $\\text{HCN}$ reacts with the Lewis acid to form the electrophilic iminium salt (protonated formyl chloride equivalent).'}, { label: 'Step 2: Electrophilic Attack', text: 'The iminium salt attacks the aromatic ring.'}, { label: 'Step 3: Hydrolysis', text: 'The resulting imine is hydrolyzed by water during workup to yield the final aromatic aldehyde.'} ] },
            { id: 'fries', name: 'Fries Rearrangement', description: 'The conversion of a phenolic ester to a mixture of $\\text{o}$-hydroxy ketone and $\\text{p}$-hydroxy ketone, catalyzed by a Lewis acid.', reactants: 'Phenolic Ester ($\\text{Ar-O-COR}$)', conditions: 'Lewis Acid (e.g., $\\text{AlCl}_3$), Heat', products: 'Ortho- and Para-Hydroxy Ketone', visualizerSteps: [{ label: 'Step 1: Coordination and Ionization', text: 'The Lewis acid coordinates to the carbonyl oxygen, causing the $\\text{O-Acyl}$ bond to cleave, forming a free acylium ion ($\\text{RCO}^+$) and a phenol salt.'}, { label: 'Step 2: $\\text{C}$-Acylation', text: 'The acylium ion attacks the ring, primarily at the $\\text{o}$- and $\\text{p}$-positions (Friedel-Crafts type step).'}, { label: 'Step 3: Protonation', text: 'The complex is broken up by water/acid, yielding the final $\\text{o}$- and $\\text{p}$-hydroxy ketone products.'} ] },
            { id: 'hoesch', name: 'Hoesch Synthesis', description: 'The synthesis of aryl ketones from nitriles and phenols/phenolic ethers, analogous to the Gatterman reaction but using a nitrile instead of $\\text{HCN}$.', reactants: 'Phenol and Nitrile ($\\text{R-CN}$)', conditions: 'Lewis Acid (e.g., $\\text{ZnCl}_2$), $\\text{HCl}$', products: 'Aryl Ketone (Hydroxyaryl Ketone)', visualizerSteps: [{ label: 'Step 1: Electrophile Formation', text: 'The nitrile reacts with $\\text{HCl}$ and the Lewis acid to form an activated nitrilium ion electrophile.'}, { label: 'Step 2: Electrophilic Attack', text: 'The electron-rich phenol attacks the nitrilium ion, typically at the $\\text{para}$ position.'}, { label: 'Step 3: Hydrolysis', text: 'The resulting ketimine intermediate is hydrolyzed to yield the final aryl ketone product.'} ] },
            { id: 'koch', name: 'Koch-Haaf Carbonylation', description: 'The synthesis of carboxylic acids from alkenes or alcohols using carbon monoxide ($\\text{CO}$) in the presence of strong acid and a catalyst.', reactants: 'Alkene or Alcohol and Carbon Monoxide ($\\text{CO}$)', conditions: 'Strong Acid ($\\text{H}_2\\text{SO}_4$/$\\text{HF}$), High Pressure', products: 'Carboxylic Acid ($\\text{RCOOH}$)', visualizerSteps: [{ label: 'Step 1: Carbocation Formation', text: 'The alkene or alcohol reacts with the strong acid to generate a carbocation intermediate.'}, { label: 'Step 2: $\\text{CO}$ Insertion', text: 'The carbocation attacks the electron-poor $\\text{CO}$ molecule to form a stable acylium ion (oxonium ion).'}, { label: 'Step 3: Hydrolysis', text: 'The acylium ion is hydrolyzed by water during work-up to yield the corresponding carboxylic acid.'} ] },
            { id: 'pinacol', name: 'Pinacol Coupling Reaction', description: 'A dimerization reaction of aldehydes or ketones to form 1,2-diols (Pinacols), often catalyzed by metallic reductants like magnesium or aluminum.', reactants: 'Aldehyde or Ketone ($\\text{R}_2\\text{C}=\\text{O}$)', conditions: 'Metal Reductant (e.g., $\\text{Mg}$ or $\\text{Al}$)', products: '1,2-Diol (Pinacol)', visualizerSteps: [{ label: 'Step 1: One-Electron Reduction', text: 'The metal transfers one electron to the carbonyl group of two separate molecules, forming ketyl radicals.'}, { label: 'Step 2: Dimerization', text: 'The two ketyl radicals couple at the carbonyl carbon atoms to form an alkoxide dianion intermediate.'}, { label: 'Step 3: Hydrolysis', text: 'The dianion is protonated during work-up to yield the final 1,2-diol (Pinacol) product.'} ] },
            { id: 'doebner-miller', name: 'Doebner-Miller Synthesis', description: 'A variation of the Skraup synthesis used for synthesizing quinolines by reacting an aromatic amine with an $\\alpha, \\beta$-unsaturated carbonyl compound (like acrolein), typically catalyzed by acid.', reactants: 'Aromatic Amine and $\\alpha, \\beta$-Unsaturated Aldehyde/Ketone', conditions: 'Acid Catalyst (e.g., $\\text{HCl}$ or $\\text{H}_2\\text{SO}_4$)', products: 'Quinoline Derivative', visualizerSteps: [{ label: 'Step 1: Michael Addition', text: 'The aromatic amine acts as a nucleophile, attacking the $\\beta$-carbon of the unsaturated carbonyl compound.'}, { label: 'Step 2: Cyclization', text: 'The intermediate enamine/imine undergoes intramolecular cyclization.'}, { label: 'Step 3: Dehydration and Oxidation', text: 'The resulting cycle undergoes dehydration and final oxidation (often by excess reactant or oxidant) to yield the aromatic quinoline.'} ] },
            { id: 'paal-knorr', name: 'Paal-Knorr Synthesis', description: 'A method for synthesizing pyrroles, furans, or thiophenes by reacting a 1,4-dicarbonyl compound with ammonia (pyrrole), a primary amine ($\\text{N}$-substituted pyrrole), an acid (furan), or phosphorus pentasulfide (thiophene).', reactants: '1,4-Dicarbonyl Compound and Ammonia/Amine', conditions: 'Heat, sometimes Acid/Base', products: 'Pyrrole, Furan, or Thiophene', visualizerSteps: [{ label: 'Step 1: Dicarbonyl Activation', text: 'The amine attacks one of the carbonyl groups.'}, { label: 'Step 2: Cyclization', text: 'A second attack occurs, leading to the formation of a five-membered ring intermediate.'}, { label: 'Step 3: Dehydration', text: 'The intermediate loses two molecules of water (dehydration) to form the fully aromatic pyrrole (or other heterocycle).'} ] },
            { id: 'hantzsch', name: 'Hantzsch Pyridine Synthesis', description: 'A multicomponent reaction that synthesizes 1,4-dihydropyridines (DHPs) from an aldehyde, two equivalents of a $\\beta$-keto ester, and ammonia or a primary amine.', reactants: 'Aldehyde, $\\beta$-Keto Ester (2 equiv.), Ammonia/Amine', conditions: 'Acid or Base Catalysis, Heat', products: '1,4-Dihydropyridine (DHP)', visualizerSteps: [{ label: 'Step 1: Enamine/Enolate Formation', text: 'The amine reacts with the $\\beta$-keto ester to form an enamine or an enolate, and the aldehyde forms an $\\alpha, \\beta$-unsaturated carbonyl with the second $\\beta$-keto ester.'}, { label: 'Step 2: Michael Addition', text: 'The enamine/enolate attacks the unsaturated carbonyl (Michael addition).'}, { label: 'Step 3: Cyclization and Condensation', text: 'The intermediate cyclizes, followed by dehydration, to form the stable 1,4-dihydropyridine ring.'} ] },
            { id: 'koch-vilsmeier', name: 'Vilsmeier-Haack-Arnold Formylation', description: 'A general formylation of activated aromatic and heteroaromatic compounds using substituted amides and $\\text{POCl}_3$, leading to the Vilsmeier reagent.', reactants: 'Aromatic Compound and $\\text{DMF}$ (or $\\text{N}$-Methylformanilide)', conditions: 'Phosphorus Oxychloride ($\\text{POCl}_3$)', products: 'Aromatic Aldehyde', visualizerSteps: [{ label: 'Step 1: Vilsmeier Salt Generation', text: 'The amide reacts with $\\text{POCl}_3$ to generate the electron-deficient iminium salt (Vilsmeier salt).'}, { label: 'Step 2: Electrophilic Attack', text: 'The activated aromatic ring attacks the electrophilic carbon of the iminium salt.'}, { label: 'Step 3: Hydrolysis', text: 'The resulting iminium intermediate is hydrolyzed during workup to yield the final aldehyde product.'} ] },
            { id: 'pomeranz', name: 'Pomeranz-Fritsch Synthesis', description: 'A method for synthesizing isoquinolines by condensing benzaldehyde and aminoacetal, followed by cyclization with acid.', reactants: 'Aromatic Aldehyde (e.g., Benzaldehyde) and Aminoacetal', conditions: 'Strong Acid (e.g., $\\text{H}_2\\text{SO}_4$)', products: 'Isoquinoline Derivative', visualizerSteps: [{ label: 'Step 1: Condensation', text: 'The aldehyde and aminoacetal condense to form a Schiff base (imine).'}, { label: 'Step 2: Cyclization', text: 'The imine is activated by acid, and the aromatic ring undergoes intramolecular electrophilic attack to form the ring structure.'}, { label: 'Step 3: Dehydration and Aromatization', text: 'The intermediate is dehydrated and then oxidizes to yield the aromatic isoquinoline.'} ] },
            { id: 'doebner', name: 'Doebner Synthesis', description: 'The synthesis of $\\alpha, \\beta$-unsaturated carboxylic acids via the condensation of an aldehyde with malonic acid in the presence of an amine catalyst.', reactants: 'Aldehyde and Malonic Acid', conditions: 'Pyridine (Amine Base), Heat', products: '$\\alpha, \\beta$-Unsaturated Carboxylic Acid', visualizerSteps: [{ label: 'Step 1: Knoevenagel Condensation', text: 'Malonic acid condenses with the aldehyde to form an intermediate $\\alpha, \\beta$-unsaturated diacid.'}, { label: 'Step 2: Decarboxylation', text: 'Heating the intermediate causes decarboxylation (loss of $\\text{CO}_2$) of the carboxyl group $\\beta$ to the other carbonyl.'}, { label: 'Step 3: Product Formation', text: 'The final, stable $\\alpha, \\beta$-unsaturated monocarboxylic acid is formed.'} ] },
            { id: 'mannich-schott', name: 'Mannich Reaction (Schott)', description: 'A three-component reaction used for the synthesis of $\\beta$-aminoketones and $\\gamma$-aminoalcohols from $\\alpha$-methylenic ketones, formaldehyde, and secondary amines.', reactants: 'Enolizable Ketone, Formaldehyde, Secondary Amine', conditions: 'Acid Catalyst (e.g., $\\text{HCl}$)', products: '$\\beta$-Amino Ketone (Mannich Base)', visualizerSteps: [{ label: 'Step 1: Iminium Formation', text: 'The amine reacts with formaldehyde under acidic conditions to form the electrophilic iminium ion.'}, { label: 'Step 2: Enol Attack', text: 'The enol tautomer of the $\\alpha$-methylenic ketone attacks the iminium ion.'}, { label: 'Step 3: Product Formation', text: 'The final product is the Mannich base, a $\\beta$-amino ketone.'} ] },
            { id: 'koenigs-knorr', name: 'Koenigs-Knorr Reaction', description: 'A substitution reaction used for the synthesis of glycosides by reacting glycosyl halides with alcohols in the presence of silver salts (or mercury salts) as promoters.', reactants: 'Glycosyl Halide and Alcohol (Glycosyl Acceptor)', conditions: 'Silver Oxide ($\\text{Ag}_2\\text{O}$) or Mercury(II) Salts', products: 'Glycoside', visualizerSteps: [{ label: 'Step 1: Activation', text: 'The silver salt complexes with and activates the halogen atom, assisting its departure to form an oxocarbenium ion intermediate.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The hydroxyl group of the alcohol attacks the oxocarbenium ion.'}, { label: 'Step 3: Deprotonation', text: 'Deprotonation yields the final glycoside product, often favoring the $\\beta$-anomer depending on the stereochemistry of the intermediate.'} ] },
            { id: 'fukuyama', name: 'Fukuyama Coupling', description: 'A palladium-catalyzed coupling of a thioester and an organozinc reagent to produce a ketone.', reactants: 'Thioester and Organozinc Reagent ($\\text{RZnX}$)', conditions: 'Pd(0) Catalyst, Solvent', products: 'Ketone', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The palladium catalyst inserts into the $\\text{C-S}$ bond of the thioester.'}, { label: 'Step 2: Transmetalation', text: 'The $\\text{R}$ group from the organozinc reagent is transferred to the palladium.'}, { label: 'Step 3: Reductive Elimination', text: 'The two organic groups couple and the ketone product is formed, regenerating the $\\text{Pd}(0)$ catalyst.'} ] },
            { id: 'negishi-coupling', name: 'Negishi Coupling', description: 'A palladium- or nickel-catalyzed cross-coupling reaction involving an organozinc compound and an organohalide to form new $\\text{C-C}$ bonds.', reactants: 'Organozinc Reagent ($\\text{RZnX}$) and Aryl/Vinyl Halide ($\\text{R\'X}$)', conditions: 'Pd(0) or Ni(0) Catalyst, THF', products: 'Coupled Hydrocarbon ($\\text{R-R\'}$)', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Pd}(0)$ catalyst inserts into the $\\text{C-X}$ bond.'}, { label: 'Step 2: Transmetalation', text: 'The organozinc reagent transfers its organic group $\\text{R}$ to the palladium center.'}, { label: 'Step 3: Reductive Elimination', text: 'The two organic groups couple, regenerating the $\\text{Pd}(0)$ catalyst.'} ] },
            { id: 'kumada', name: 'Kumada Coupling', description: 'A nickel or palladium-catalyzed cross-coupling reaction between an organomagnesium compound (Grignard reagent) and an organohalide.', reactants: 'Grignard Reagent ($\\text{RMgX}$) and Aryl/Vinyl Halide ($\\text{R\'X}$)', conditions: 'Ni(II) or Pd(II) Catalyst, Solvent (e.g., THF)', products: 'Coupled Hydrocarbon ($\\text{R-R\'}$)', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Ni}(0)$ or $\\text{Pd}(0)$ catalyst inserts into the $\\text{C-X}$ bond of the halide.'}, { label: 'Step 2: Transmetalation', text: 'The $\\text{R}$ group from the Grignard reagent is transferred to the metal center.'}, { label: 'Step 3: Reductive Elimination', text: 'The $\\text{R}$ and $\\text{R\'}$ groups couple to form the product, and the catalyst is regenerated.'} ] },
            { id: 'hiyamab', name: 'Hiyama Coupling', description: 'A palladium-catalyzed cross-coupling reaction between an organosilane and an organohalide, requiring an activator like fluoride (e.g., $\\text{TBAF}$) or base.', reactants: 'Organosilane ($\\text{RSiR}_3$) and Aryl/Vinyl Halide ($\\text{R\'X}$)', conditions: 'Pd Catalyst, Fluoride Activator ($\\text{TBAF}$)', products: 'Coupled Hydrocarbon ($\\text{R-R\'}$)', visualizerSteps: [{ label: 'Step 1: Silane Activation', text: 'The fluoride ion attacks the silicon atom, creating a hypervalent silicon species that is more nucleophilic.'}, { label: 'Step 2: Oxidative Addition', text: 'The $\\text{Pd}(0)$ inserts into the $\\text{C-X}$ bond.'}, { label: 'Step 3: Transmetalation/Elimination', text: 'The activated organosilane transfers the $\\text{R}$ group to the $\\text{Pd}$, followed by reductive elimination to give the coupled product.'} ] },
            { id: 'glausere', name: 'Glaser Coupling', description: 'The oxidative coupling of terminal alkynes to form symmetrical conjugated diynes, typically catalyzed by a copper(I) salt in the presence of an oxidant (e.g., $\\text{O}_2$).', reactants: 'Terminal Alkyne ($\\text{R-C}\\equiv\\text{C-H}$)', conditions: 'Copper(I) Salt (e.g., $\\text{CuCl}$), Oxidant (e.g., $\\text{O}_2$)', products: 'Symmetrical Diyne ($\\text{R-C}\\equiv\\text{C-C}\\equiv\\text{C-R}$)', visualizerSteps: [{ label: 'Step 1: Acetylide Formation', text: 'The $\\text{Cu}(\\text{I})$ catalyst forms a copper acetylide intermediate with the terminal alkyne.'}, { label: 'Step 2: Oxidation/Coupling', text: 'Two acetylide molecules couple, mediated by the copper catalyst (which is oxidized to $\\text{Cu}(\\text{II})$ and reduced back by the oxidant).'}, { label: 'Step 3: Product Release', text: 'The coupled diyne product is released, regenerating the copper catalyst for turnover.'} ] },
            { id: 'faworsky', name: 'Favorskii Rearrangement', description: 'The reaction of an $\\alpha$-haloketone with a base to form a carboxylic acid or its derivative (ester/amide). This often proceeds via a cyclopropanone intermediate.', reactants: '$\\alpha$-Haloketone', conditions: 'Base (e.g., $\\text{NaOR}$ or $\\text{NaOH}$)', products: 'Carboxylic Acid Derivative (Ring Contraction)', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The base removes an $\\alpha$-hydrogen opposite to the halogen to form the enolate.'}, { label: 'Step 2: Intramolecular Attack', text: 'The enolate attacks the carbonyl carbon, displacing the halogen and forming a strained cyclopropanone intermediate.'}, { label: 'Step 3: Ring Opening', text: 'The base/nucleophile attacks the cyclopropanone, resulting in ring opening and final formation of the carboxylic acid derivative.'} ] },
            { id: 'michael', name: 'Michael Addition', description: 'A nucleophilic addition of a carbanion or another nucleophile (Michael donor) to an $\\alpha, \\beta$-unsaturated carbonyl compound (Michael acceptor).', reactants: 'Michael Donor (e.g., $\\beta$-Dicarbonyl Enolate) and Michael Acceptor', conditions: 'Base Catalyst (e.g., $\\text{NaOEt}$)', products: '1,5-Dicarbonyl Compound', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The base generates the stabilized enolate ion (Michael donor).'}, { label: 'Step 2: Conjugate Addition', text: 'The enolate attacks the $\\beta$-carbon of the $\\alpha, \\beta$-unsaturated carbonyl (1,4-addition).'}, { label: 'Step 3: Protonation', text: 'The resulting enolate intermediate is protonated to yield the final saturated 1,5-dicarbonyl product.'} ] },
            { id: 'robinson', name: 'Robinson Annulation', description: 'A two-step reaction (Michael addition followed by Aldol condensation) used to construct six-membered rings, crucial for forming steroid structures.', reactants: 'Ketone (Michael Donor) and $\\alpha, \\beta$-Unsaturated Ketone (Acceptor)', conditions: 'Base, Heat', products: 'Cyclohexenone Derivative (Fused Ring System)', visualizerSteps: [{ label: 'Step 1: Michael Addition', text: 'The enolate of the donor ketone attacks the $\\beta$-carbon of the acceptor ketone.'}, { label: 'Step 2: Intramolecular Aldol', text: 'The intermediate enolate attacks the second carbonyl group intramolecularly, forming a cyclic intermediate.'}, { label: 'Step 3: Condensation', text: 'The cyclic intermediate undergoes dehydration (condensation) to form the fused cyclohexenone ring.'} ] },
            { id: 'baylis-hillman', name: 'Baylis-Hillman Reaction', description: 'A carbon-carbon bond forming reaction between an aldehyde and an activated alkene (e.g., acrylonitrile or methyl acrylate), catalyzed by a tertiary amine (e.g., $\\text{DABCO}$).', reactants: 'Aldehyde and Activated Alkene', conditions: 'Tertiary Amine Catalyst (e.g., $\\text{DABCO}$)', products: '$\\beta$-Hydroxy $\\alpha$-Methylene Carbonyl', visualizerSteps: [{ label: 'Step 1: Carbanion Formation', text: 'The tertiary amine adds to the alkene, forming a resonance-stabilized carbanion intermediate (nucleophile).'}, { label: 'Step 2: Aldehyde Attack', text: 'The carbanion attacks the electrophilic carbonyl carbon of the aldehyde.'}, { label: 'Step 3: Elimination', text: 'The resulting alkoxide eliminates the tertiary amine, regenerating the catalyst and forming the final product.'} ] },
            { id: 'henry', name: 'Henry Reaction (Nitro Aldol)', description: 'A base-catalyzed reaction of a nitroalkane with an aldehyde or ketone to form a $\\beta$-nitro alcohol (nitro-aldol).', reactants: 'Nitroalkane and Aldehyde/Ketone', conditions: 'Base Catalyst (e.g., $\\text{NaOH}$ or Amine)', products: '$\\beta$-Nitro Alcohol', visualizerSteps: [{ label: 'Step 1: Nitronate Formation', text: 'The base abstracts an $\\alpha$-hydrogen from the nitroalkane to form the stabilized nitronate anion (nucleophile).'}, { label: 'Step 2: Nucleophilic Attack', text: 'The nitronate attacks the carbonyl carbon of the aldehyde/ketone.'}, { label: 'Step 3: Protonation', text: 'The resulting alkoxide is protonated by the solvent or acid work-up to yield the final $\\beta$-nitro alcohol.'} ] },
            { id: 'pecora', name: 'Pechmann Condensation', description: 'A method for synthesizing coumarins by condensing a phenol with a $\\beta$-keto ester or $\\beta$-diketone under acidic conditions.', reactants: 'Phenol and $\\beta$-Keto Ester', conditions: 'Strong Acid Catalyst (e.g., $\\text{H}_2\\text{SO}_4$ or $\\text{P}_2\\text{O}_5$)', products: 'Coumarin Derivative', visualizerSteps: [{ label: 'Step 1: Transesterification', text: 'The phenol attacks the ester group of the $\\beta$-keto ester, forming a phenyl ester intermediate.'}, { label: 'Step 2: Electrophilic Aromatic Substitution', text: 'The aromatic ring of the phenol undergoes intramolecular electrophilic attack at the activated carbonyl.'}, { label: 'Step 3: Dehydration', text: 'The cyclic intermediate loses water to form the fused ring system of the coumarin.'} ] },
            { id: 'fischer-indole', name: 'Fischer Indole Synthesis', description: 'The chemical synthesis of an indole (a heterocyclic aromatic compound) from a phenylhydrazine and an aldehyde or ketone under acidic conditions.', reactants: 'Phenylhydrazine and Aldehyde/Ketone', conditions: 'Acid Catalyst (e.g., $\\text{ZnCl}_2$, $\\text{H}_2\\text{SO}_4$)', products: 'Indole Derivative', visualizerSteps: [{ label: 'Step 1: Hydrazone Formation', text: 'The phenylhydrazine reacts with the carbonyl compound to form a phenylhydrazone.'}, { label: 'Step 2: $\\text{C-C}$ Bond Formation', text: 'The hydrazone tautomerizes, and a [3,3]-sigmatropic rearrangement occurs, followed by $\\text{C-C}$ bond formation.'}, { label: 'Step 3: Cyclization and Ammonia Loss', text: 'The intermediate cyclizes, and a molecule of ammonia ($\\text{NH}_3$) is lost, yielding the final aromatic indole product.'} ] },
            { id: 'skraup-quinoline', name: 'Skraup Quinoline Synthesis', description: 'The classic method for synthesizing quinoline by reacting aniline, glycerol, and an oxidizing agent in the presence of sulfuric acid.', reactants: 'Aniline, Glycerol, Oxidizing Agent (e.g., Nitrobenzene)', conditions: 'Concentrated $\\text{H}_2\\text{SO}_4$, Heat', products: 'Quinoline', visualizerSteps: [{ label: 'Step 1: Acrolein Formation', text: 'Glycerol dehydrates to form acrolein ($\\alpha, \\beta$-unsaturated aldehyde).'}, { label: 'Step 2: Addition and Cyclization', text: 'Aniline adds to acrolein (Michael addition), followed by intramolecular cyclization.'}, { label: 'Step 3: Oxidation', text: 'The intermediate dihydroquinoline is oxidized by the nitrobenzene to give the aromatic quinoline product.'} ] },
            { id: 'gould-jacobs', name: 'Gould-Jacobs Reaction', description: 'A method for synthesizing quinolines using an aniline derivative and an ethoxymethylene malonate (or similar compound) followed by cyclization.', reactants: 'Aniline and Ethoxymethylene Malonate', conditions: 'Heat, then Strong Acid', products: 'Quinoline-4-Carboxylic Acid Derivative', visualizerSteps: [{ label: 'Step 1: Condensation', text: 'The aniline reacts with the malonate derivative to form an enamine intermediate.'}, { label: 'Step 2: Cyclization', text: 'Intramolecular electrophilic aromatic substitution occurs, closing the ring.'}, { label: 'Step 3: Decarboxylation', text: 'The resulting acid is usually decarboxylated upon heating to give the final quinoline.'} ] },
            { id: 'friedlander', name: 'Friedl√§nder Synthesis', description: 'A method for synthesizing quinolines by condensing an $\\text{o}$-amino-aldehyde or $\\text{o}$-amino-ketone with a second ketone or aldehyde.', reactants: '$\\text{o}$-Amino Aldehyde/Ketone and Aldehyde/Ketone', conditions: 'Base or Acid Catalyst, Heat', products: 'Quinoline Derivative', visualizerSteps: [{ label: 'Step 1: Condensation', text: 'The amino group of the $\\text{o}$-amino ketone condenses with the carbonyl group of the second component to form an imine.'}, { label: 'Step 2: Intramolecular Aldol', text: 'The second carbonyl of the $\\text{o}$-amino ketone\'s derivative attacks the imine carbon.'}, { label: 'Step 3: Dehydration', text: 'The cyclic intermediate loses water to form the fused quinoline ring system.'} ] },
            { id: 'pictet-spengler', name: 'Pictet-Spengler Synthesis', description: 'A cyclization reaction of a $\\beta$-arylethylamine (phenethylamine) and an aldehyde or ketone to form a tetrahydroisoquinoline.', reactants: 'Phenethylamine ($\\beta$-Arylethylamine) and Aldehyde/Ketone', conditions: 'Acid Catalyst (e.g., $\\text{HCl}$), Heat', products: 'Tetrahydroisoquinoline', visualizerSteps: [{ label: 'Step 1: Iminium Formation', text: 'The amine reacts with the aldehyde/ketone under acidic conditions to form an iminium ion.'}, { label: 'Step 2: Electrophilic Attack', text: 'The electron-rich aromatic ring (meta-position) undergoes intramolecular electrophilic attack on the iminium ion.'}, { label: 'Step 3: Ring Closure', text: 'A proton is lost from the ring, yielding the stable tetrahydroisoquinoline product.'} ] },
            { id: 'reissert', name: 'Reissert Compound Synthesis', description: 'The reaction of an isoquinoline (or quinoline) with benzoyl chloride and potassium cyanide to form $\\text{N}$-benzoyl-1,2-dihydroisoquinoline-1-carbonitrile (a Reissert compound).', reactants: 'Isoquinoline, Benzoyl Chloride, Potassium Cyanide ($\\text{KCN}$)', conditions: 'Water/Organic Solvent System', products: 'Reissert Compound ($\\text{N}$-Acyl-1,2-dihydroisoquinoline)', visualizerSteps: [{ label: 'Step 1: Electrophilic Addition', text: 'The benzoyl chloride reacts with isoquinoline to form a $\\text{N}$-benzoyliminium ion.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The cyanide ion ($\\text{CN}^-$) attacks the $\\text{C}-1$ position of the isoquinoline ring.'}, { label: 'Step 3: Product Formation', text: 'The final $\\text{N}$-benzoyl-1,2-dihydroisoquinoline-1-carbonitrile Reissert compound is formed.'} ] },
            { id: 'synthesis', name: 'Leimgruber-Batcho Indole Synthesis', description: 'A method for synthesizing indoles by condensing $\\text{o}$-nitrotoluene with $\\text{N}, \text{N}$-dimethylformamide dimethyl acetal ($\text{DMFDMA}$).', reactants: '$\\text{o}$-Nitrotoluene and $\\text{DMFDMA}$', conditions: 'Base, Heat, then Reduction', products: 'Indole', visualizerSteps: [{ label: 'Step 1: Enamine Formation', text: 'The $\\text{o}$-nitrotoluene reacts with $\\text{DMFDMA}$ to form an intermediate enamine (a $\\beta$-dimethylamino-$\\text{o}$-nitrostyrene).'}, { label: 'Step 2: Reduction', text: 'The nitro group is reduced to an amine (e.g., using $\\text{H}_2$/Catalyst).'}, { label: 'Step 3: Cyclization', text: 'The resulting $\\text{o}$-amino compound cyclizes to yield the final indole product, losing $\\text{Me}_2\text{NH}$.'} ] },
            { id: 'bieber', name: 'Bischler-Napieralski Reaction', description: 'An electrophilic intramolecular cyclization of $\\beta$-phenethylamides to form 3,4-dihydroisoquinolines.', reactants: '$\\beta$-Phenethylamide', conditions: 'Dehydrating Agent (e.g., $\\text{POCl}_3$, $\\text{P}_2\\text{O}_5$)', products: '3,4-Dihydroisoquinoline', visualizerSteps: [{ label: 'Step 1: Activation', text: 'The amide carbonyl oxygen is activated by the dehydrating agent to form a good leaving group.'}, { label: 'Step 2: Electrophilic Attack', text: 'The activated $\\text{C-N}$ center undergoes intramolecular electrophilic aromatic substitution onto the $\\text{para}$ position of the aromatic ring.'}, { label: 'Step 3: Ring Closure', text: 'The ring closes, forming the 3,4-dihydroisoquinoline and eliminating the phosphoryl side-product.'} ] },
            { id: 'pfitzinger', name: 'Pfitzinger Reaction', description: 'A reaction for the synthesis of quinoline-4-carboxylic acids by condensing isatin with a ketone in the presence of base.', reactants: 'Isatin and Ketone', conditions: 'Strong Base (e.g., $\\text{KOH}$), Heat', products: 'Quinoline-4-Carboxylic Acid', visualizerSteps: [{ label: 'Step 1: Ring Opening of Isatin', text: 'The strong base cleaves the five-membered ring of isatin, forming an $\\text{o}$-aminobenzoylcarboxylic acid intermediate.'}, { label: 'Step 2: Condensation', text: 'The $\\text{o}$-amino group condenses with the ketone carbonyl to form a Schiff base (imine).'}, { label: 'Step 3: Cyclization and Product', text: 'The intermediate cyclizes via an intramolecular attack, followed by dehydration, to yield the quinoline-4-carboxylic acid.'} ] },
            { id: 'kapp', name: 'Knorr Pyrrole Synthesis', description: 'A method for synthesizing pyrroles by reacting an $\\alpha$-amino ketone (or $\\alpha$-aminocarboxylic acid) with a $\\beta$-keto ester.', reactants: '$\\alpha$-Amino Ketone and $\\beta$-Keto Ester', conditions: 'Acid Catalyst, Heat', products: 'Substituted Pyrrole', visualizerSteps: [{ label: 'Step 1: Condensation', text: 'The $\\alpha$-amino ketone condenses with the $\\beta$-keto ester to form an intermediate enaminoketone.'}, { label: 'Step 2: Cyclization', text: 'The enaminoketone undergoes intramolecular attack by the enol on the $\\alpha$-carbon of the $\\beta$-keto ester moiety.'}, { label: 'Step 3: Dehydration', text: 'The cyclic intermediate loses water to form the final aromatic pyrrole ring.'} ] },
            { id: 'synthesis', name: 'Hantzsch Thiazole Synthesis', description: 'A condensation reaction that synthesizes substituted thiazoles by reacting a thioamide (or thiourea) with an $\\alpha$-halocarbonyl compound.', reactants: 'Thioamide and $\\alpha$-Halocarbonyl Compound', conditions: 'Heat', products: 'Thiazole Derivative', visualizerSteps: [{ label: 'Step 1: $\\text{S}_N2$ Attack', text: 'The nucleophilic sulfur atom of the thioamide attacks the carbon bearing the halogen in an $\\text{S}_N2$ reaction.'}, { label: 'Step 2: Condensation', text: 'The resulting intermediate undergoes condensation and cyclization, eliminating water.'}, { label: 'Step 3: Dehydration', text: 'The cyclic intermediate loses water to form the aromatic five-membered thiazole ring.'} ] },
            { id: 'barth', name: 'Barton Decarboxylation', description: 'The conversion of a carboxylic acid into a thiol or other radical-derived functional group via a radical chain reaction involving a N-hydroxypyridine-2-thione (Barton ester) intermediate.', reactants: 'Carboxylic Acid (converted to Barton Ester)', conditions: 'Light ($\text{h}\\nu$) or Heat, Radical Trap (e.g., $\\text{RSH}$)', products: 'Thiol, Alkane, or Halide', visualizerSteps: [{ label: 'Step 1: Radical Initiation', text: 'Thermal or photochemical energy breaks the weak $\\text{N-S}$ bond of the Barton ester to start the radical chain.'}, { label: 'Step 2: Decarboxylation', text: 'The resulting acyloxy radical rapidly loses $\\text{CO}_2$ to form an alkyl radical ($\\text{R}\\cdot$).'}, { label: 'Step 3: Termination', text: 'The alkyl radical reacts with the radical trap (or another radical) to form the final product.'} ] },
            { id: 'gropp', name: 'Grob Fragmentation', description: 'A fragmentation reaction where a substrate containing a leaving group, an electron-rich group, and a fragmenting $\\text{C-C}$ bond breaks into three fragments: a cation, an anion, and a neutral molecule (often an alkene).', reactants: '1,4-Dihalide or $\\beta$-Hydroxy Alkyl Halide', conditions: 'Base, sometimes Metal (e.g., $\\text{Zn}$)', products: 'Alkene and two smaller fragments', visualizerSteps: [{ label: 'Step 1: Leaving Group Departure', text: 'The electron-rich group assists the departure of the leaving group to generate an electron-deficient center.'}, { label: 'Step 2: $\\sigma$-Bond Cleavage', text: 'The $\\text{C-C}$ bond connecting the two groups fragments simultaneously with the formation of a $\\pi$ bond.'}, { label: 'Step 3: Product Release', text: 'The molecule cleaves into three fragments, with the alkene often being the desired product.'} ] },
            { id: 'daoud', name: 'Dakin Oxidation', description: 'The conversion of an $\\text{o}$- or $\\text{p}$-hydroxy benzaldehyde or ketone to a corresponding diphenol (or quinone), using hydrogen peroxide ($\\text{H}_2\\text{O}_2$) in base.', reactants: '$\\text{o}$- or $\\text{p}$-Hydroxy Aldehyde/Ketone', conditions: 'Hydrogen Peroxide ($\\text{H}_2\\text{O}_2$), Base (e.g., $\\text{NaOH}$)', products: 'Diphenol or Quinone', visualizerSteps: [{ label: 'Step 1: Peroxide Addition', text: 'The hydroxide ion attacks the $\\text{H}_2\\text{O}_2$ to form the peroxy anion, which then attacks the carbonyl group.'}, { label: 'Step 2: Alkyl Migration', text: 'The aryl group migrates from the carbonyl carbon to the oxygen, simultaneously eliminating the hydroxide ion.'}, { label: 'Step 3: Hydrolysis and Product', text: 'The resulting phenyl ester intermediate is hydrolyzed by the base to yield the final diphenol product.'} ] },
            { id: 'tishchenko', name: 'Tishchenko Reaction', description: 'The disproportionation of an aldehyde to form an ester, catalyzed by an aluminum alkoxide (e.g., aluminum ethoxide).', reactants: 'Aldehyde (lacking $\\alpha$-H)', conditions: 'Aluminum Alkoxide Catalyst (e.g., $\\text{Al}(\\text{OEt})_3$)', products: 'Ester (Dimer of the Aldehyde)', visualizerSteps: [{ label: 'Step 1: Coordination and Hydride Transfer', text: 'Two aldehyde molecules coordinate to the aluminum catalyst. One acts as a hydride donor, and the other as an acceptor.'}, { label: 'Step 2: $\\text{C-O}$ Bond Formation', text: 'A six-membered cyclic transition state allows the hydride to transfer, forming an alkoxide and an ester intermediate simultaneously.'}, { label: 'Step 3: Product Release', text: 'The ester product is released, regenerating the aluminum alkoxide catalyst.'} ] },
            { id: 'koch-haaf', name: 'Koch-Haaf Carbonylation', description: 'The synthesis of carboxylic acids from alkenes or alcohols using carbon monoxide ($\\text{CO}$) in the presence of strong acid (often $\\text{H}_2\\text{SO}_4$) and a catalyst.', reactants: 'Alkene or Alcohol and $\\text{CO}$', conditions: 'Strong Acid (e.g., $\\text{H}_2\\text{SO}_4$), High Pressure', products: 'Carboxylic Acid ($\\text{RCOOH}$)', visualizerSteps: [{ label: 'Step 1: Carbocation Generation', text: 'The reactant is protonated by the strong acid to form a carbocation intermediate.'}, { label: 'Step 2: $\\text{CO}$ Capture', text: 'The carbocation reacts with carbon monoxide to form an acylium ion (an electrophile).'}, { label: 'Step 3: Hydrolysis', text: 'The acylium ion is subsequently hydrolyzed by water to yield the final carboxylic acid product.'} ] },
            { id: 'prins', name: 'Prins Reaction', description: 'An acid-catalyzed electrophilic addition of an aldehyde or ketone to an alkene or alkyne, forming a variety of products including 1,3-diols, allylic alcohols, and substituted tetrahydrofurans.', reactants: 'Alkene and Aldehyde/Ketone (e.g., Formaldehyde)', conditions: 'Acid Catalyst (e.g., $\\text{H}_2\\text{SO}_4$)', products: '1,3-Diol or Substituted Tetrahydrofuran', visualizerSteps: [{ label: 'Step 1: Carbocation Formation', text: 'The alkene reacts with the protonated aldehyde/ketone to form a carbocation intermediate.'}, { label: 'Step 2: Nucleophilic Attack/Cyclization', text: 'The carbocation is attacked by water (to form a diol) or an internal oxygen (to form a tetrahydrofuran).'}, { label: 'Step 3: Product Stabilization', text: 'The product is stabilized by loss of a proton or further reaction.'} ] },
            { id: 'koenigs', name: 'Koenigs-Knorr Reaction', description: 'A substitution reaction used for the synthesis of glycosides by reacting glycosyl halides with alcohols in the presence of silver salts (or mercury salts) as promoters.', reactants: 'Glycosyl Halide and Alcohol (Glycosyl Acceptor)', conditions: 'Silver Oxide ($\\text{Ag}_2\\text{O}$) or Mercury(II) Salts', products: 'Glycoside', visualizerSteps: [{ label: 'Step 1: Activation', text: 'The silver salt complexes with and activates the halogen atom, assisting its departure to form an oxocarbenium ion intermediate.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The hydroxyl group of the alcohol attacks the oxocarbenium ion.'}, { label: 'Step 3: Deprotonation', text: 'Deprotonation yields the final glycoside product, often favoring the $\\beta$-anomer depending on the stereochemistry of the intermediate.'} ] },
            { id: 'vilsmeier', name: 'Vilsmeier-Haack Formylation', description: 'A formylation reaction that introduces an aldehyde group ($\\text{-CHO}$) onto electron-rich aromatic or heteroaromatic compounds using phosphorus oxychloride and $\\text{N}, \text{N}$-dimethylformamide ($\text{DMF}$).', reactants: 'Aromatic Compound and $\\text{DMF}$', conditions: 'Phosphorus Oxychloride ($\\text{POCl}_3$)', products: 'Aromatic Aldehyde', visualizerSteps: [{ label: 'Step 1: Vilsmeier Reagent Formation', text: '$\\text{DMF}$ and $\\text{POCl}_3$ react to form the highly electrophilic Vilsmeier reagent (Iminium salt).'}, { label: 'Step 2: Electrophilic Attack', text: 'The electron-rich aromatic ring attacks the Vilsmeier reagent.'}, { label: 'Step 3: Hydrolysis', text: 'Subsequent hydrolysis of the resulting iminium intermediate yields the final aromatic aldehyde product.'} ] },
            { id: 'gatterman-koch-2', name: 'Gatterman-Koch Reaction (2)', description: 'Formylation of benzene using carbon monoxide and hydrogen chloride in the presence of a Lewis acid catalyst, often $\\text{AlCl}_3$ and $\\text{CuCl}$.', reactants: 'Benzene (or derivative), $\\text{CO}$, $\\text{HCl}$', conditions: 'Lewis Acid ($\\text{AlCl}_3$), Trace $\\text{CuCl}$', products: 'Aromatic Aldehyde', visualizerSteps: [{ label: 'Step 1: Electrophile Generation', text: 'The $\\text{CO}$ and $\\text{HCl}$ react, assisted by $\\text{AlCl}_3$, to generate the $\\text{H-C}^+=\\text{O}$ formyl cation (or related complex).'}, { label: 'Step 2: Electrophilic Attack', text: 'The formyl cation attacks the electron-rich aromatic ring.'}, { label: 'Step 3: Aromatization', text: 'A proton is abstracted from the intermediate, restoring aromaticity and forming the benzaldehyde product.'} ] },
            { id: 'diels-alder-2', name: 'Diels-Alder Reaction (2)', description: 'A concerted cycloaddition between a conjugated diene and a dienophile (alkene/alkyne) to form a six-membered ring.', reactants: 'Conjugated Diene and Dienophile', conditions: 'Heat or Lewis Acid Catalyst', products: 'Substituted Cyclohexene', visualizerSteps: [{ label: 'Step 1: Transition State', text: 'The diene and dienophile approach each other in a synchronous, concerted fashion.'}, { label: 'Step 2: Bond Formation', text: 'Two new $\\sigma$ bonds and one new $\\pi$ bond are formed simultaneously through a six-electron cyclic transition state.'}, { label: 'Step 3: Stereospecificity', text: 'The reaction is highly stereospecific, typically favoring the *endo* product for electronic reasons.'} ] },
            { id: 'hantzsch-2', name: 'Hantzsch Pyridine Synthesis (2)', description: 'A multicomponent reaction to synthesize 1,4-dihydropyridines (DHP) using an aldehyde, two $\\beta$-keto esters, and ammonia.', reactants: 'Aldehyde, $\\beta$-Keto Ester (2 equiv.), Ammonia', conditions: 'Acid or Base Catalyst, Heat', products: '1,4-Dihydropyridine (DHP)', visualizerSteps: [{ label: 'Step 1: Intermediate Formation', text: 'An $\\alpha, \\beta$-unsaturated carbonyl and an enamine are formed from the components.'}, { label: 'Step 2: Michael Addition', text: 'The enamine acts as a nucleophile, attacking the $\\beta$-carbon of the $\\alpha, \\beta$-unsaturated carbonyl.'}, { label: 'Step 3: Cyclization/Condensation', text: 'The resulting intermediate undergoes intramolecular cyclization and dehydration to form the DHP ring.'} ] },
            { id: 'pechmann', name: 'Pechmann Condensation (2)', description: 'Synthesis of coumarins via the acid-catalyzed condensation of a phenol and a $\\beta$-keto ester.', reactants: 'Phenol and $\\beta$-Keto Ester', conditions: 'Strong Acid (e.g., $\\text{H}_2\\text{SO}_4$)', products: 'Coumarin Derivative', visualizerSteps: [{ label: 'Step 1: Transesterification', text: 'The phenol attacks the ester group of the $\\beta$-keto ester.'}, { label: 'Step 2: Electrophilic Aromatic Substitution', text: 'The phenolic oxygen and the carbonyl group participate in an intramolecular electrophilic attack on the aromatic ring.'}, { label: 'Step 3: Dehydration', text: 'The cyclic intermediate loses water to form the fused ring system of the coumarin.'} ] },
            { id: 'knorr', name: 'Knorr Pyrrole Synthesis (2)', description: 'The synthesis of pyrroles by condensing an $\\alpha$-amino ketone (or its equivalent) with a $\\beta$-keto ester.', reactants: '$\\alpha$-Amino Ketone and $\\beta$-Keto Ester', conditions: 'Acid Catalyst, Heat', products: 'Substituted Pyrrole', visualizerSteps: [{ label: 'Step 1: Condensation', text: 'The amino group condenses with one carbonyl, and the $\\alpha$-carbon enolizes.'}, { label: 'Step 2: Cyclization', text: 'The enol attacks the second carbonyl carbon to close the ring.'}, { label: 'Step 3: Dehydration', text: 'The cyclic intermediate loses water to form the fully aromatic pyrrole ring.'} ] },
            { id: 'fischer-indole-2', name: 'Fischer Indole Synthesis (2)', description: 'The synthesis of indole derivatives from phenylhydrazine and an aldehyde or ketone under acidic catalysis.', reactants: 'Phenylhydrazine and Aldehyde/Ketone', conditions: 'Acid Catalyst (e.g., $\\text{ZnCl}_2$ or Polyphosphoric Acid)', products: 'Indole Derivative', visualizerSteps: [{ label: 'Step 1: Hydrazone Formation', text: 'Phenylhydrazine reacts with the carbonyl to form the corresponding phenylhydrazone.'}, { label: 'Step 2: Rearrangement', text: 'The hydrazone undergoes a [3,3]-sigmatropic rearrangement (Claisen-like) under acid catalysis.'}, { label: 'Step 3: Cyclization/Aromatization', text: 'The intermediate cyclizes, followed by loss of ammonia ($\text{NH}_3$) to achieve the aromatic indole structure.'} ] },
            { id: 'bieber-2', name: 'Bischler-Napieralski Reaction (2)', description: 'Intramolecular cyclization of $\\beta$-phenethylamides using a dehydrating agent to create 3,4-dihydroisoquinolines.', reactants: '$\\beta$-Phenethylamide', conditions: 'Dehydrating Agent (e.g., $\\text{POCl}_3$)', products: '3,4-Dihydroisoquinoline', visualizerSteps: [{ label: 'Step 1: Activation', text: 'The amide is activated by the dehydrating agent, making the $\\text{C-N}$ bond electrophilic.'}, { label: 'Step 2: Electrophilic Aromatic Attack', text: 'The aromatic ring attacks the activated $\\text{C-N}$ center in an intramolecular Friedel-Crafts type reaction.'}, { label: 'Step 3: Product Formation', text: 'Elimination of the activating group yields the aromatic 3,4-dihydroisoquinoline.'} ] },
            { id: 'biginelli-2', name: 'Biginelli Reaction (2)', description: 'A multicomponent reaction producing 3,4-dihydropyrimidinones (DHPMs) from an aldehyde, $\\beta$-keto ester, and urea.', reactants: 'Aldehyde, $\\beta$-Keto Ester, and Urea', conditions: 'Acid Catalyst (e.g., $\\text{HCl}$)', products: '3,4-Dihydropyrimidinone (DHPM)', visualizerSteps: [{ label: 'Step 1: Iminium Formation', text: 'The aldehyde and urea condense to form a reactive iminium ion.'}, { label: 'Step 2: $\\text{C-C}$ Bond Formation', text: 'The enol tautomer of the $\\beta$-keto ester attacks the iminium ion.'}, { label: 'Step 3: Cyclization', text: 'The intermediate cyclizes and eliminates water to form the final $\\text{DHPM}$ ring.'} ] },
            { id: 'curtius-2', name: 'Curtius Rearrangement (2)', description: 'Conversion of an acyl azide to an isocyanate, followed by hydrolysis to a primary amine, resulting in loss of one carbon atom.', reactants: 'Acyl Azide ($\\text{RCON}_3$)', conditions: 'Heat (Thermal Decomposition)', products: 'Primary Amine ($\\text{RNH}_2$)', visualizerSteps: [{ label: 'Step 1: Nitrogen Loss', text: 'Heating causes the loss of $\\text{N}_2$ from the acyl azide, forming a nitrene intermediate.'}, { label: 'Step 2: Rearrangement', text: 'The alkyl group ($\\text{R}$) migrates from carbon to nitrogen, forming the isocyanate.'}, { label: 'Step 3: Hydrolysis', text: 'The isocyanate is hydrolyzed by water to give the primary amine and $\\text{CO}_2$.'} ] },
            { id: 'dakin-2', name: 'Dakin Oxidation (2)', description: 'The conversion of an $\\text{o}$- or $\\text{p}$-hydroxy benzaldehyde or ketone to a corresponding diphenol using $\\text{H}_2\\text{O}_2$ in base.', reactants: 'Hydroxy Carbonyl Compound', conditions: 'Hydrogen Peroxide ($\\text{H}_2\\text{O}_2$), Base', products: 'Diphenol or Quinone', visualizerSteps: [{ label: 'Step 1: Peroxy Anion Attack', text: 'The peroxy anion attacks the activated carbonyl carbon.'}, { label: 'Step 2: Aryl Migration', text: 'The aryl group migrates from carbon to oxygen, with simultaneous elimination of hydroxide.'}, { label: 'Step 3: Hydrolysis', text: 'The resulting ester intermediate is hydrolyzed to form the final diphenol product.'} ] },
            { id: 'doebner-2', name: 'Doebner Synthesis (2)', description: 'Synthesis of $\\alpha, \\beta$-unsaturated carboxylic acids by condensing an aldehyde with malonic acid in the presence of an amine base.', reactants: 'Aldehyde and Malonic Acid', conditions: 'Pyridine (Amine Base), Heat', products: '$\\alpha, \\beta$-Unsaturated Carboxylic Acid', visualizerSteps: [{ label: 'Step 1: Condensation', text: 'Malonic acid condenses with the aldehyde via the Knoevenagel mechanism.'}, { label: 'Step 2: Decarboxylation', text: 'The resulting diacid undergoes thermal decarboxylation, losing $\\text{CO}_2$.'}, { label: 'Step 3: Product Formation', text: 'The final $\\alpha, \\beta$-unsaturated monocarboxylic acid is formed.'} ] },
            { id: 'tishchenko-2', name: 'Tishchenko Reaction (2)', description: 'The disproportionation of an aldehyde to form an ester, catalyzed by aluminum alkoxide.', reactants: 'Aldehyde (lacking $\\alpha$-H)', conditions: 'Aluminum Alkoxide Catalyst', products: 'Ester (Dimer of the Aldehyde)', visualizerSteps: [{ label: 'Step 1: Hydride Transfer', text: 'A six-membered transition state allows for the intramolecular transfer of a hydride from one aldehyde molecule to the carbonyl of a second.'}, { label: 'Step 2: $\\text{C-O}$ Bond Formation', text: 'Simultaneous bond formation leads to an ester and an alkoxide (which is part of the catalyst complex).'}, { label: 'Step 3: Catalyst Turnover', text: 'The ester product is released, regenerating the aluminum alkoxide catalyst.'} ] },
            { id: 'birch-2', name: 'Birch Reduction (2)', description: 'A selective reduction of aromatic rings to non-conjugated 1,4-cyclohexadienes using metal and liquid ammonia.', reactants: 'Aromatic Ring', conditions: 'Sodium or Lithium Metal, Liquid $\\text{NH}_3$, Alcohol', products: '1,4-Cyclohexadiene', visualizerSteps: [{ label: 'Step 1: Electron Addition', text: 'A solvated electron adds to the aromatic ring to form a radical anion.'}, { label: 'Step 2: Protonation', text: 'The radical anion is protonated by the alcohol (acid).'}, { label: 'Step 3: Final Reduction', text: 'A second electron addition followed by a second protonation yields the 1,4-cyclohexadiene.'} ] },
            { id: 'clemmensen-2', name: 'Clemmensen Reduction (2)', description: 'Reduction of an aldehyde or ketone to the corresponding alkane using zinc amalgam and concentrated $\\text{HCl}$.', reactants: 'Aldehyde or Ketone', conditions: 'Zinc Amalgam ($\\text{Zn}(\\text{Hg})$), Concentrated $\\text{HCl}$', products: 'Alkane (Deoxygenation)', visualizerSteps: [{ label: 'Step 1: Coordination', text: 'The carbonyl oxygen coordinates to the zinc surface.'}, { label: 'Step 2: Electron Transfer', text: 'Electrons are transferred from the zinc to the carbon, breaking the $\\text{C}=\\text{O}$ bond after protonation.'}, { label: 'Step 3: Protonation/Product', text: 'Multiple proton and electron transfer steps replace the oxygen with two hydrogens to complete the alkane.'} ] },
            { id: 'wolff-kishner-2', name: 'Wolff-Kishner Reduction (2)', description: 'Conversion of a carbonyl group (ketone/aldehyde) to a methylene group ($\\text{CH}_2$) using hydrazine and a strong base.', reactants: 'Aldehyde or Ketone and Hydrazine ($\\text{N}_2\\text{H}_4$)', conditions: 'Strong Base (e.g., $\\text{KOH}$), Heat', products: 'Alkane (Deoxygenation)', visualizerSteps: [{ label: 'Step 1: Hydrazone Formation', text: 'The carbonyl reacts with hydrazine to form a hydrazone, releasing water.'}, { label: 'Step 2: Tautomerization', text: 'The hydrazone is deprotonated by base, then tautomerizes to an azo compound.'}, { label: 'Step 3: Nitrogen Elimination', text: 'Loss of a second proton and subsequent loss of $\\text{N}_2$ gas yields the carbanion, which is protonated to the alkane.'} ] },
            { id: 'gatterman-2', name: 'Gatterman Reaction (2)', description: 'Synthesis of aromatic aldehydes using $\\text{HCN}$ and $\\text{HCl}$ under Lewis acid catalysis.', reactants: 'Aromatic Ring (e.g., Benzene), $\\text{HCN}$', conditions: 'Lewis Acid (e.g., $\\text{AlCl}_3$ or $\\text{ZnCl}_2$)', products: 'Aromatic Aldehyde', visualizerSteps: [{ label: 'Step 1: Electrophile Formation', text: 'The $\\text{HCN}$ and $\\text{HCl}$ react with the Lewis acid to form the electrophilic iminium salt.'}, { label: 'Step 2: Electrophilic Attack', text: 'The iminium salt attacks the aromatic ring.'}, { label: 'Step 3: Hydrolysis', text: 'Hydrolysis of the resulting imine intermediate yields the final aromatic aldehyde product.'} ] },
            { id: 'hoesch-2', name: 'Hoesch Synthesis (2)', description: 'Synthesis of aryl ketones from nitriles and phenols/phenolic ethers in the presence of Lewis acid and $\\text{HCl}$.', reactants: 'Phenol and Nitrile ($\\text{R-CN}$)', conditions: 'Lewis Acid (e.g., $\\text{ZnCl}_2$), $\\text{HCl}$', products: 'Aryl Ketone (Hydroxyaryl Ketone)', visualizerSteps: [{ label: 'Step 1: Electrophile Formation', text: 'The nitrile reacts with $\\text{HCl}$ and the Lewis acid to form the activated nitrilium ion.'}, { label: 'Step 2: Electrophilic Attack', text: 'The electron-rich phenol attacks the nitrilium ion.'}, { label: 'Step 3: Hydrolysis', text: 'Hydrolysis of the intermediate ketimine yields the final aryl ketone product.'} ] },
            { id: 'cannizzaro-2', name: 'Cannizzaro Reaction (2)', description: 'A disproportionation of two aldehyde molecules lacking an $\\alpha$-hydrogen to yield an alcohol and a carboxylic acid salt.', reactants: 'Aldehyde without $\\alpha$-H', conditions: 'Concentrated Base (e.g., $\\text{NaOH}$)', products: 'Primary Alcohol and Carboxylic Acid Salt', visualizerSteps: [{ label: 'Step 1: Hydroxide Addition', text: 'Hydroxide attacks the carbonyl carbon.'}, { label: 'Step 2: Hydride Transfer', text: 'A hydride ion is transferred from the resulting intermediate to a second aldehyde molecule (rate-determining step).'}, { label: 'Step 3: Proton Exchange', text: 'The resulting acid and alkoxide rapidly exchange a proton to form the stable products.'} ] },
            { id: 'benzoin-2', name: 'Benzoin Condensation (2)', description: 'The coupling of two aromatic aldehyde molecules, catalyzed by cyanide ion ($\\text{CN}^-$) or Vitamin $\\text{B}_1$ derivative, to form an $\\alpha$-hydroxy ketone (Benzoin).', reactants: 'Aromatic Aldehyde', conditions: 'Cyanide Ion ($\\text{CN}^-$) or $\\text{N}$-Heterocyclic Carbene', products: 'Benzoin ($\\alpha$-Hydroxy Ketone)', visualizerSteps: [{ label: 'Step 1: Cyanide Attack', text: 'Cyanide attacks the aldehyde carbonyl.'}, { label: 'Step 2: Tautomerization', text: 'The intermediate tautomerizes, forming a nucleophilic carbanion.'}, { label: 'Step 3: Second Aldehyde Attack/Elimination', text: 'The carbanion attacks a second aldehyde molecule, followed by elimination of cyanide to yield the benzoin.'} ] },
            { id: 'wittig-2', name: 'Wittig Reaction (2)', description: 'The formation of an alkene from an aldehyde or ketone and a phosphorus ylide.', reactants: 'Aldehyde/Ketone and Triphenyl Phosphonium Ylide', conditions: 'Aprotic Solvent (e.g., $\\text{THF}$)', products: 'Alkene (Olefin)', visualizerSteps: [{ label: 'Step 1: Betaine Formation', text: 'The ylide carbanion attacks the carbonyl carbon, forming a zwitterionic betaine.'}, { label: 'Step 2: Oxaphosphetane Formation', text: 'The betaine cyclizes to form a four-membered oxaphosphetane ring.'}, { label: 'Step 3: Elimination', text: 'The oxaphosphetane collapses, yielding the alkene and triphenylphosphine oxide ($\text{Ph}_3\text{P}=\text{O}$).'} ] },
            { id: 'mannich-2', name: 'Mannich Reaction (2)', description: 'A three-component reaction producing a $\\beta$-amino carbonyl compound (Mannich Base) from an enolizable carbonyl, formaldehyde, and an amine.', reactants: 'Enolizable Carbonyl, Formaldehyde, and an Amine', conditions: 'Acid Catalyst (e.g., $\\text{HCl}$)', products: 'Mannich Base ($\\beta$-Amino Carbonyl)', visualizerSteps: [{ label: 'Step 1: Iminium Ion Formation', text: 'Formaldehyde and the amine condense to form the electrophilic iminium ion.'}, { label: 'Step 2: Enol Attack', text: 'The enol tautomer of the carbonyl compound attacks the iminium ion.'}, { label: 'Step 3: Product Formation', text: 'The final $\\beta$-amino carbonyl product is formed.'} ] },
            { id: 'strecker-2', name: 'Strecker Synthesis (2)', description: 'A method for synthesizing $\\alpha$-amino acids from an aldehyde, ammonia, and hydrogen cyanide.', reactants: 'Aldehyde, Ammonia ($\\text{NH}_3$), and $\\text{HCN}$', conditions: 'Acidic or Basic Aqueous Solution', products: '$\\alpha$-Amino Acid', visualizerSteps: [{ label: 'Step 1: Iminium Formation', text: 'The aldehyde reacts with ammonia to form the iminium ion.'}, { label: 'Step 2: Cyanide Attack', text: 'Cyanide ($\\text{CN}^-$) attacks the iminium ion to form an $\\alpha$-aminonitrile.'}, { label: 'Step 3: Hydrolysis', text: 'Hydrolysis of the nitrile group yields the final $\\alpha$-amino acid.'} ] },
            { id: 'wurtz-2', name: 'Wurtz Reaction (2)', description: 'A coupling reaction of two alkyl halides with sodium metal in dry ether to form a higher alkane.', reactants: 'Alkyl Halides ($\\text{R-X}$) and Sodium Metal ($\\text{Na}$)', conditions: 'Dry Ether, Metallic Sodium ($\text{Na}$)', products: 'Symmetrical Higher Alkane ($\\text{R-R}$)', visualizerSteps: [{ label: 'Step 1: Radical Formation', text: 'Sodium transfers an electron to the alkyl halide, forming an alkyl radical ($\text{R}\cdot$).'}, { label: 'Step 2: Coupling', text: 'Two alkyl radicals combine rapidly to form the alkane ($\text{R-R}$).'}, { label: 'Step 3: Overall Equation', text: '$2\\text{R-X} + 2\\text{Na} \\xrightarrow{\\text{Dry Ether}} \\text{R-R} + 2\\text{NaX}$'} ] },
            { id: 'pinacolone-2', name: 'Pinacol-Pinacolone Rearrangement (2)', description: 'Acid-catalyzed rearrangement of a 1,2-diol (Pinacol) to a ketone or aldehyde (Pinacolone).', reactants: '1,2-Diol (Pinacol)', conditions: 'Strong Acid (e.g., $\\text{H}_2\\text{SO}_4$)', products: 'Ketone (Pinacolone)', visualizerSteps: [{ label: 'Step 1: Water Loss', text: 'Protonation and loss of water forms a carbocation.'}, { label: 'Step 2: 1,2-Shift', text: 'A group ($\\text{H}$, $\\text{R}$, or $\\text{Ar}$) migrates to the carbocation center.'}, { label: 'Step 3: Deprotonation', text: 'Deprotonation of the resulting oxonium ion yields the final stable ketone product.'} ] },
            { id: 'koch-2', name: 'Koch-Haaf Carbonylation (3)', description: 'Synthesis of carboxylic acids from alkenes or alcohols using $\\text{CO}$ in strong acid.', reactants: 'Alkene or Alcohol and $\\text{CO}$', conditions: 'Strong Acid ($\text{H}_2\text{SO}_4$/$\text{HF}$), High Pressure', products: 'Carboxylic Acid ($\text{RCOOH}$)', visualizerSteps: [{ label: 'Step 1: Carbocation Formation', text: 'The strong acid generates a carbocation from the reactant.'}, { label: 'Step 2: $\\text{CO}$ Attack', text: 'The carbocation attacks carbon monoxide ($\text{CO}$) to form an acylium ion.'}, { label: 'Step 3: Hydrolysis', text: 'The acylium ion is hydrolyzed by water to yield the desired carboxylic acid.'} ] },
            { id: 'fries-2', name: 'Fries Rearrangement (2)', description: 'Lewis acid-catalyzed rearrangement of a phenolic ester to a $\\text{o}$- and $\\text{p}$-hydroxy ketone.', reactants: 'Phenolic Ester', conditions: 'Lewis Acid ($\text{AlCl}_3$), Heat', products: 'Ortho- and Para-Hydroxy Ketone', visualizerSteps: [{ label: 'Step 1: Cleavage', text: 'The Lewis acid coordinates, causing the $\\text{O-Acyl}$ bond to cleave, generating an acylium ion ($\text{RCO}^+$).'}, { label: 'Step 2: $\\text{C}$-Acylation', text: 'The acylium ion attacks the $\\text{o}$- and $\\text{p}$-positions of the activated phenol ring.'}, { label: 'Step 3: Workup', text: 'Acid workup releases the final mixture of $\\text{o}$- and $\\text{p}$-hydroxy ketone products.'} ] },
            { id: 'sandmeyer-2', name: 'Sandmeyer Reaction (2)', description: 'Substitution of an aromatic primary amine\'s amino group with a halogen or cyano group via a diazonium salt intermediate, using copper(I) salts.', reactants: 'Aromatic Primary Amine ($\text{ArNH}_2$)', conditions: 'Nitrous Acid ($\text{NaNO}_2$/$\text{HCl}$), Copper(I) Salts ($\text{CuCl}$)', products: 'Aryl Halide or Aryl Nitrile', visualizerSteps: [{ label: 'Step 1: Diazotization', text: 'The amine is converted into the highly unstable aromatic diazonium salt ($\text{ArN}_2^+$).'}, { label: 'Step 2: Radical Initiation', text: 'The diazonium ion complexes with the $\\text{Cu}(\\text{I})$ catalyst, initiating a radical reaction.'}, { label: 'Step 3: Substitution', text: 'The diazo group is replaced by the halogen or cyano group, with loss of $\\text{N}_2$ gas.'} ] },
            { id: 'suzuki-2', name: 'Suzuki Coupling (2)', description: 'A palladium-catalyzed cross-coupling of an organoboronic acid and an organohalide to form a $\\text{C-C}$ bond.', reactants: 'Aryl/Vinyl Halide ($\text{R-X}$) and Organoboronic Acid', conditions: 'Pd Catalyst, Base ($\text{K}_2\text{CO}_3$)', products: 'Biaryl or Conjugated Alkene', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Pd}(0)$ catalyst inserts into the $\\text{R-X}$ bond.'}, { label: 'Step 2: Transmetalation', text: 'The organoboronic acid transfers its organic group to the palladium center, assisted by the base.'}, { label: 'Step 3: Reductive Elimination', text: 'The two organic groups couple, and the $\\text{Pd}(0)$ catalyst is regenerated.'} ] },
            { id: 'heck-2', name: 'Heck Reaction (2)', description: 'Palladium-catalyzed coupling of an aryl/vinyl halide with an alkene, resulting in a substituted alkene.', reactants: 'Aryl/Vinyl Halide ($\text{R-X}$) and Alkene', conditions: 'Pd Catalyst ($\text{Pd}(\text{OAc})_2$), Base ($\text{Et}_3\text{N}$)', products: 'Substituted Alkene', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Pd}(0)$ catalyst inserts into the $\\text{R-X}$ bond.'}, { label: 'Step 2: Alkene Insertion', text: 'The alkene coordinates to the palladium and inserts into the $\\text{R-Pd}$ bond.'}, { label: 'Step 3: $\\beta$-Hydride Elimination', text: 'The intermediate undergoes $\\beta$-hydride elimination, releasing the substituted alkene and regenerating the catalyst.'} ] },
            { id: 'stille-2', name: 'Stille Coupling (2)', description: 'Palladium-catalyzed cross-coupling between an organotin compound (organostannane) and an organohalide.', reactants: 'Aryl/Vinyl Halide ($\text{R-X}$) and Organostannane ($\text{R\'SnBu}_3$)', conditions: 'Pd Catalyst, Solvent', products: 'Coupled Hydrocarbon', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Pd}(0)$ catalyst inserts into the $\\text{C-X}$ bond.'}, { label: 'Step 2: Transmetalation', text: 'The organotin compound transfers its organic group $\\text{R\'}$ to the palladium center.'}, { label: 'Step 3: Reductive Elimination', text: 'The $\\text{R}$ and $\\text{R\'}$ groups couple to form the final product, regenerating the $\\text{Pd}(0)$ catalyst.'} ] },
            { id: 'mitsunobu-2', name: 'Mitsunobu Reaction (2)', description: 'Mild conversion of an alcohol into various functional groups (with inversion of stereochemistry) using $\\text{PPh}_3$ and $\\text{DEAD}$.', reactants: 'Alcohol, Nucleophilic Acid, $\\text{PPh}_3$, $\\text{DEAD}$', conditions: 'Aprotic Solvent ($\text{THF}$)', products: 'Inversion of Stereochemistry (e.g., Ester)', visualizerSteps: [{ label: 'Step 1: Activation', text: 'The phosphine and azodicarboxylate form an intermediate that activates the alcohol.'}, { label: 'Step 2: Alcohol Attack', text: 'The alcohol attacks the activated intermediate, forming a good leaving group complex.'}, { label: 'Step 3: $\\text{S}_N2$ Attack', text: 'The nucleophile attacks the activated carbon in an $\\text{S}_N2$ fashion, resulting in inversion.'} ] },
            { id: 'hunsdiecker-2', name: 'Hunsdiecker Reaction (2)', description: 'Halogenation reaction where the silver salt of a carboxylic acid reacts with a halogen to form an alkyl halide (decarboxylation).', reactants: 'Silver Carboxylate ($\text{RCOOAg}$) and Halogen ($\text{Br}_2$)', conditions: 'Non-Polar Solvent ($\text{CCl}_4$), Heat', products: 'Alkyl Halide ($\text{R-X}$)', visualizerSteps: [{ label: 'Step 1: Hypohalite Formation', text: 'The carboxylate reacts to form the Acyl Hypohalite intermediate.'}, { label: 'Step 2: Radical Decarboxylation', text: 'The intermediate undergoes homolytic cleavage and loses $\\text{CO}_2$, forming an alkyl radical ($\text{R}\cdot$).'}, { label: 'Step 3: Coupling', text: 'The alkyl radical couples with a halogen radical to form the final alkyl halide.'} ] },
            { id: 'reformatsky-2', name: 'Reformatsky Reaction (2)', description: 'The addition of an $\\alpha$-halo ester to an aldehyde or ketone in the presence of zinc metal to form a $\\beta$-hydroxy ester.', reactants: 'Aldehyde/Ketone and $\\alpha$-Halo Ester', conditions: 'Zinc Metal ($\text{Zn}$), Aprotic Solvent', products: '$\\beta$-Hydroxy Ester', visualizerSteps: [{ label: 'Step 1: Organozinc Formation', text: 'Zinc inserts into the $\\text{C-X}$ bond to form the organozinc reagent (zinc enolate).'}, { label: 'Step 2: Nucleophilic Attack', text: 'The organozinc enolate attacks the carbonyl carbon of the aldehyde/ketone.'}, { label: 'Step 3: Hydrolysis', text: 'Acid workup of the resulting alkoxide yields the final $\\beta$-hydroxy ester product.'} ] },
            { id: 'claisen-2', name: 'Claisen Condensation (2)', description: 'A $\\text{C-C}$ bond forming reaction between two esters catalyzed by a strong base to form a $\\beta$-keto ester.', reactants: 'Ester with $\\alpha$-H and an Alkoxide Base', conditions: 'Alkoxide Base ($\text{NaOCH}_3$), then Acidification', products: '$\\beta$-Keto Ester', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The base forms the enolate ion from the $\\alpha$-carbon of the ester.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The enolate attacks the carbonyl carbon of a second ester molecule.'}, { label: 'Step 3: Elimination', text: 'The alkoxide ($\text{R\'O}^-$) is eliminated as the leaving group to form the $\\beta$-keto ester.'} ] },
            { id: 'dieckmann-2', name: 'Dieckmann Condensation (2)', description: 'An intramolecular Claisen condensation of a diester to form a cyclic $\\beta$-keto ester (5- or 6-membered ring).', reactants: 'Diester (e.g., Adipate or Pimelate Esters)', conditions: 'Strong Base ($\text{NaOEt}$ or $\text{NaH}$), then Acidification', products: 'Cyclic $\\beta$-Keto Ester', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The strong base forms an enolate ion from one ester group.'}, { label: 'Step 2: Intramolecular Attack', text: 'The enolate attacks the carbonyl group of the *other* ester group within the same molecule.'}, { label: 'Step 3: Cyclization', text: 'The intermediate eliminates an alkoxide group ($\text{R\'O}^-$) to close the ring and yield the cyclic $\\beta$-keto ester.'} ] },
            { id: 'robin', name: 'Robinson Annulation (2)', description: 'Synthesis of cyclohexenone derivatives via a Michael addition followed by an intramolecular Aldol condensation.', reactants: 'Ketone (Michael Donor) and $\\alpha, \\beta$-Unsaturated Ketone (Acceptor)', conditions: 'Base, Heat', products: 'Cyclohexenone Derivative (Fused Ring)', visualizerSteps: [{ label: 'Step 1: Michael Addition', text: 'The enolate of the donor ketone attacks the $\\beta$-carbon of the unsaturated ketone.'}, { label: 'Step 2: Intramolecular Aldol', text: 'The resulting enolate attacks the second carbonyl intramolecularly.'}, { label: 'Step 3: Condensation', text: 'Dehydration yields the stable $\\alpha, \\beta$-unsaturated cyclic ketone (cyclohexenone).'} ] },
            { id: 'knoevenagel-2', name: 'Knoevenagel Condensation (2)', description: 'Nucleophilic addition of an active hydrogen compound (e.g., malonic ester) to a carbonyl, followed by dehydration, to form an $\\alpha, \\beta$-unsaturated dicarbonyl.', reactants: 'Aldehyde/Ketone and Compound with Active $\\text{CH}_2$', conditions: 'Amine Catalyst (e.g., Piperidine)', products: '$\\alpha, \\beta$-Unsaturated Dicarbonyl', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The amine base forms an enolate from the active methylene compound.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The enolate attacks the carbonyl carbon.'}, { label: 'Step 3: Dehydration', text: 'The intermediate loses water to form the conjugated product.'} ] },
            { id: 'darzens-2', name: 'Darzens Condensation (2)', description: 'Reaction of an aldehyde or ketone with an $\\alpha$-halo ester in the presence of base to form an $\\alpha, \\beta$-epoxy ester (glycidic ester).', reactants: 'Aldehyde/Ketone and $\\alpha$-Halo Ester', conditions: 'Strong Base ($\text{NaOEt}$)', products: 'Glycidic Ester (Epoxy Ester)', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The base forms the carbanion (enolate) from the $\\alpha$-halo ester.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The carbanion attacks the carbonyl carbon.'}, { label: 'Step 3: Intramolecular $\\text{S}_N2$', text: 'The resulting alkoxide attacks the halogen-bearing carbon, closing the epoxide ring.'} ] },
            { id: 'aldol-2', name: 'Aldol Condensation (2)', description: 'A $\\text{C-C}$ bond forming reaction between an enolate and a carbonyl compound, followed by dehydration.', reactants: 'Aldehyde or Ketone with $\\alpha$-H', conditions: 'Dilute Base ($\text{NaOH}$), Heat (for condensation)', products: '$\\alpha, \\beta$-Unsaturated Carbonyl', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The base removes an $\\alpha$-hydrogen to form the stabilized enolate ion.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The enolate attacks the carbonyl carbon of a second molecule.'}, { label: 'Step 3: Dehydration', text: 'The intermediate loses water upon heating to give the final $\\alpha, \\beta$-unsaturated product.'} ] },
            { id: 'fischer-2', name: 'Fischer Esterification (2)', description: 'The acid-catalyzed formation of an ester from a carboxylic acid and an alcohol.', reactants: 'Carboxylic Acid ($\text{RCOOH}$) and Alcohol ($\text{R\'-OH}$)', conditions: 'Acid Catalyst ($\text{H}_2\text{SO}_4$), Heat', products: 'Ester ($\text{RCOOR\'}$) and Water', visualizerSteps: [{ label: 'Step 1: Carbonyl Activation', text: 'The acid protonates the carboxylic acid carbonyl.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The alcohol attacks the activated carbonyl, forming a tetrahedral intermediate.'}, { label: 'Step 3: Water Loss', text: 'After proton transfer, the hydroxyl group leaves as water, yielding the final ester.'} ] },
            { id: 'williamson-2', name: 'Williamson Ether Synthesis (2)', description: 'Preparation of ethers by the $\\text{S}_N2$ reaction of an alkoxide ion with a primary alkyl halide.', reactants: 'Sodium Alkoxide ($\text{R-ONa}$) and Primary Alkyl Halide ($\text{R\'-X}$)', conditions: 'Polar, Aprotic Solvent (e.g., $\text{DMSO}$)', products: 'Ether ($\text{R-O-R\'}$)', visualizerSteps: [{ label: 'Step 1: Nucleophilic Attack', text: 'The alkoxide ion ($\text{R-O}^-$) acts as a strong nucleophile.'}, { label: 'Step 2: $\\text{S}_N2$ Displacement', text: 'The alkoxide attacks the electrophilic carbon of the primary alkyl halide, displacing the halogen.'}, { label: 'Step 3: Product Formation', text: 'The $\\text{R-O-R\'}$ ether product is formed.'} ] },
            { id: 'friedel-crafts-2', name: 'Friedel-Crafts Acylation (2)', description: 'Electrophilic aromatic substitution to attach an acyl group ($\\text{RCO}$) to an aromatic ring using an acyl halide and a Lewis acid.', reactants: 'Benzene and Acyl Halide ($\text{RCOCl}$)', conditions: 'Anhydrous $\\text{AlCl}_3$, Heat', products: 'Aromatic Ketone', visualizerSteps: [{ label: 'Step 1: Acylium Ion Generation', text: 'The acyl halide and Lewis acid form the highly electrophilic Acylium Ion ($\text{RCO}^+$).'}, { label: 'Step 2: Electrophilic Attack', text: 'The Acylium Ion attacks the benzene ring, forming the arenium ion intermediate.'}, { label: 'Step 3: Aromatization', text: 'A base abstracts a proton, restoring aromaticity and yielding the ketone product.'} ] },
            { id: 'kolbe-schmitt-2', name: 'Kolbe-Schmitt Reaction (2)', description: 'Carboxylation of phenols with $\\text{CO}_2$ under pressure to form salicylic acid derivatives.', reactants: 'Sodium Phenoxide and $\\text{CO}_2$', conditions: 'High Pressure (4-7 atm), High Temperature (125 $\\circ\\text{C}$)', products: 'Salicylic Acid', visualizerSteps: [{ label: 'Step 1: Phenoxide Formation', text: 'Phenol is deprotonated to the nucleophilic phenoxide ion.'}, { label: 'Step 2: Electrophilic Attack', text: 'The phenoxide attacks the $\\text{CO}_2$ electrophile at the $\\text{ortho}$ position.'}, { label: 'Step 3: Tautomerization', text: 'The intermediate cyclohexadienone tautomerizes back to the aromatic structure, which is then acidified to give salicylic acid.'} ] },
            { id: 'skraup-2', name: 'Skraup Quinoline Synthesis (3)', description: 'The classic method for synthesizing quinoline from aniline, glycerol, and an oxidizing agent in sulfuric acid.', reactants: 'Aniline, Glycerol, Oxidizing Agent', conditions: 'Concentrated $\\text{H}_2\\text{SO}_4$, Heat', products: 'Quinoline', visualizerSteps: [{ label: 'Step 1: Acrolein Formation', text: 'Glycerol dehydrates to form acrolein.'}, { label: 'Step 2: Addition/Cyclization', text: 'Aniline adds to acrolein, followed by intramolecular cyclization.'}, { label: 'Step 3: Oxidation', text: 'The intermediate dihydroquinoline is oxidized by the nitrobenzene to yield the aromatic quinoline.'} ] },
            { id: 'gatterman-koch-3', name: 'Gatterman-Koch Reaction (4)', description: 'Formylation of benzene using carbon monoxide and hydrogen chloride in the presence of a Lewis acid catalyst.', reactants: 'Benzene, $\\text{CO}$, $\\text{HCl}$', conditions: 'Lewis Acid ($\text{AlCl}_3$), Trace $\text{CuCl}$', products: 'Aromatic Aldehyde', visualizerSteps: [{ label: 'Step 1: Electrophile Generation', text: 'The $\\text{CO}$ and $\\text{HCl}$ react to generate the $\\text{H-C}^+=\\text{O}$ formyl cation.'}, { label: 'Step 2: Electrophilic Attack', text: 'The formyl cation attacks the aromatic ring.'}, { label: 'Step 3: Aromatization', text: 'A proton is abstracted from the intermediate, restoring aromaticity and forming the benzaldehyde product.'} ] },
            { id: 'vilsmeier-2', name: 'Vilsmeier-Haack Formylation (2)', description: 'Formylation of electron-rich aromatics using $\\text{POCl}_3$ and $\\text{DMF}$.', reactants: 'Aromatic Compound and $\\text{DMF}$', conditions: 'Phosphorus Oxychloride ($\text{POCl}_3$)', products: 'Aromatic Aldehyde', visualizerSteps: [{ label: 'Step 1: Vilsmeier Reagent Formation', text: 'The $\\text{POCl}_3$ activates $\\text{DMF}$ to form the electrophilic iminium salt (Vilsmeier reagent).'}, { label: 'Step 2: Electrophilic Attack', text: 'The electron-rich aromatic ring attacks the Vilsmeier reagent.'}, { label: 'Step 3: Hydrolysis', text: 'Hydrolysis of the iminium intermediate yields the final aromatic aldehyde.'} ] },
            { id: 'reimer-tiemann-2', name: 'Reimer-Tiemann Reaction (3)', description: 'Insertion of an aldehyde group onto the $\\text{ortho}$ position of phenols using $\\text{CHCl}_3$ and base.', reactants: 'Phenol and $\\text{CHCl}_3$', conditions: 'Strong Base ($\text{NaOH}$), Heat', products: 'Salicylaldehyde', visualizerSteps: [{ label: 'Step 1: Dichlorocarbene Generation', text: 'The strong base reacts with $\\text{CHCl}_3$ to form Dichlorocarbene ($\text{:CCl}_2$).'}, { label: 'Step 2: Electrophilic Attack', text: 'The phenoxide ion attacks the dichlorocarbene.'}, { label: 'Step 3: Hydrolysis', text: 'Hydrolysis and tautomerization of the intermediate yields salicylaldehyde.'} ] },
            { id: 'mannich-3', name: 'Mannich Reaction (3)', description: 'A three-component reaction for synthesizing $\\beta$-amino carbonyl compounds.', reactants: 'Enolizable Carbonyl, Formaldehyde, and an Amine', conditions: 'Acid Catalyst ($\text{HCl}$)', products: 'Mannich Base', visualizerSteps: [{ label: 'Step 1: Iminium Ion Formation', text: 'Formaldehyde and the amine form the electrophilic iminium ion.'}, { label: 'Step 2: Enol Attack', text: 'The enol attacks the iminium ion.'}, { label: 'Step 3: Product Formation', text: 'The final $\\beta$-amino carbonyl product is formed.'} ] },
            { id: 'diels-alder-3', name: 'Diels-Alder Reaction (3)', description: 'A concerted cycloaddition between a conjugated diene and a dienophile to form a six-membered ring.', reactants: 'Conjugated Diene and Dienophile', conditions: 'Heat or Lewis Acid Catalyst', products: 'Substituted Cyclohexene', visualizerSteps: [{ label: 'Step 1: Transition State', text: 'The reaction proceeds through a synchronous, cyclic transition state.'}, { label: 'Step 2: Bond Formation', text: 'Two new $\\sigma$ bonds and one new $\\pi$ bond form simultaneously.'}, { label: 'Step 3: Stereospecificity', text: 'The reaction is highly stereospecific, typically favoring the *endo* product.'} ] },
            { id: 'fischer-3', name: 'Fischer Esterification (3)', description: 'The acid-catalyzed formation of an ester from a carboxylic acid and an alcohol.', reactants: 'Carboxylic Acid ($\text{RCOOH}$) and Alcohol ($\text{R\'-OH}$)', conditions: 'Acid Catalyst ($\text{H}_2\text{SO}_4$), Heat', products: 'Ester ($\text{RCOOR\'}$) and Water', visualizerSteps: [{ label: 'Step 1: Carbonyl Activation', text: 'The acid protonates the carbonyl.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The alcohol attacks the activated carbonyl.'}, { label: 'Step 3: Water Loss', text: 'Water is eliminated to yield the final ester.'} ] },
            { id: 'williamson-3', name: 'Williamson Ether Synthesis (3)', description: 'Preparation of ethers by the $\\text{S}_N2$ reaction of an alkoxide ion with a primary alkyl halide.', reactants: 'Sodium Alkoxide ($\text{R-ONa}$) and Primary Alkyl Halide ($\text{R\'-X}$)', conditions: 'Polar, Aprotic Solvent', products: 'Ether ($\text{R-O-R\'}$)', visualizerSteps: [{ label: 'Step 1: Nucleophilic Alkoxide', text: 'The alkoxide ion ($\text{R-O}^-$) acts as a strong nucleophile.'}, { label: 'Step 2: $\\text{S}_N2$ Displacement', text: 'The alkoxide attacks the electrophilic carbon, displacing the halogen.'}, { label: 'Step 3: Product Formation', text: 'The $\\text{R-O-R\'}$ ether product is formed.'} ] },
            { id: 'wurtz-3', name: 'Wurtz Reaction (3)', description: 'A coupling reaction of two alkyl halides with sodium metal in dry ether to form a higher alkane.', reactants: 'Alkyl Halides ($\text{R-X}$) and Sodium Metal ($\text{Na}$)', conditions: 'Dry Ether, Metallic Sodium', products: 'Symmetrical Higher Alkane ($\text{R-R}$)', visualizerSteps: [{ label: 'Step 1: Radical Formation', text: 'Sodium transfers an electron to the alkyl halide, forming an alkyl radical ($\text{R}\cdot$).'}, { label: 'Step 2: Coupling', text: 'Two alkyl radicals combine rapidly to form the alkane ($\text{R-R}$).'}, { label: 'Step 3: Overall Equation', text: '$2\\text{R-X} + 2\\text{Na} \\xrightarrow{\\text{Dry Ether}} \\text{R-R} + 2\\text{NaX}$'} ] },
            { id: 'friedel-crafts-3', name: 'Friedel-Crafts Acylation (3)', description: 'Electrophilic aromatic substitution to attach an acyl group ($\\text{RCO}$) to an aromatic ring.', reactants: 'Benzene and Acyl Halide ($\text{RCOCl}$)', conditions: 'Anhydrous $\\text{AlCl}_3$, Heat', products: 'Aromatic Ketone', visualizerSteps: [{ label: 'Step 1: Acylium Ion Generation', text: 'The acyl halide and Lewis acid form the highly electrophilic Acylium Ion ($\text{RCO}^+$).'}, { label: 'Step 2: Electrophilic Attack', text: 'The Acylium Ion attacks the benzene ring.'}, { label: 'Step 3: Aromatization', text: 'A proton is abstracted, restoring aromaticity and yielding the ketone product.'} ] },
            { id: 'knoevenagel-3', name: 'Knoevenagel Condensation (3)', description: 'Nucleophilic addition of an active hydrogen compound to a carbonyl, followed by dehydration, to form an $\\alpha, \\beta$-unsaturated dicarbonyl.', reactants: 'Aldehyde/Ketone and Compound with Active $\\text{CH}_2$', conditions: 'Amine Catalyst (e.g., Piperidine)', products: '$\\alpha, \\beta$-Unsaturated Dicarbonyl', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The amine base forms an enolate from the active methylene compound.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The enolate attacks the carbonyl carbon.'}, { label: 'Step 3: Dehydration', text: 'The intermediate loses water to form the conjugated product.'} ] },
            { id: 'aldol-3', name: 'Aldol Condensation (3)', description: 'A $\\text{C-C}$ bond forming reaction between an enolate and a carbonyl compound, followed by dehydration.', reactants: 'Aldehyde or Ketone with $\\alpha$-H', conditions: 'Dilute Base ($\text{NaOH}$), Heat (for condensation)', products: '$\\alpha, \\beta$-Unsaturated Carbonyl', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The base removes an $\\alpha$-hydrogen to form the stabilized enolate ion.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The enolate attacks the carbonyl carbon of a second molecule.'}, { label: 'Step 3: Dehydration', text: 'The intermediate loses water upon heating to give the final $\\alpha, \\beta$-unsaturated product.'} ] },
            { id: 'clemmensen-3', name: 'Clemmensen Reduction (3)', description: 'Reduction of an aldehyde or ketone to the corresponding alkane using zinc amalgam and concentrated $\\text{HCl}$.', reactants: 'Aldehyde or Ketone', conditions: 'Zinc Amalgam ($\text{Zn}(\text{Hg})$), Concentrated $\text{HCl}$', products: 'Alkane (Deoxygenation)', visualizerSteps: [{ label: 'Step 1: Coordination', text: 'The carbonyl oxygen coordinates to the zinc surface.'}, { label: 'Step 2: Electron Transfer', text: 'Electrons are transferred from the zinc to the carbon, breaking the $\\text{C}=\\text{O}$ bond after protonation.'}, { label: 'Step 3: Protonation/Product', text: 'Multiple proton and electron transfer steps replace the oxygen with two hydrogens to complete the alkane.'} ] },
            { id: 'wolff-kishner-3', name: 'Wolff-Kishner Reduction (3)', description: 'Conversion of a carbonyl group to a methylene group ($\\text{CH}_2$) using hydrazine and a strong base.', reactants: 'Aldehyde or Ketone and Hydrazine ($\text{N}_2\text{H}_4$)', conditions: 'Strong Base ($\text{KOH}$), High Heat', products: 'Alkane (Deoxygenation)', visualizerSteps: [{ label: 'Step 1: Hydrazone Formation', text: 'The carbonyl reacts with hydrazine to form a hydrazone.'}, { label: 'Step 2: Tautomerization', text: 'The hydrazone is deprotonated, then tautomerizes to an azo compound.'}, { label: 'Step 3: Nitrogen Elimination', text: 'Loss of $\\text{N}_2$ gas yields the carbanion, which is protonated to the alkane.'} ] },
            { id: 'cannizzaro-3', name: 'Cannizzaro Reaction (3)', description: 'A disproportionation of two aldehyde molecules lacking an $\\alpha$-hydrogen to yield an alcohol and a carboxylic acid salt.', reactants: 'Aldehyde without $\\alpha$-H', conditions: 'Concentrated Base ($\text{NaOH}$)', products: 'Primary Alcohol and Carboxylic Acid Salt', visualizerSteps: [{ label: 'Step 1: Hydroxide Addition', text: 'Hydroxide attacks the carbonyl carbon.'}, { label: 'Step 2: Hydride Transfer', text: 'A hydride ion is transferred from the resulting intermediate to a second aldehyde molecule.'}, { label: 'Step 3: Proton Exchange', text: 'The resulting acid and alkoxide rapidly exchange a proton to form the stable products.'} ] },
            { id: 'benzoin-3', name: 'Benzoin Condensation (3)', description: 'The coupling of two aromatic aldehyde molecules, catalyzed by cyanide ion, to form an $\\alpha$-hydroxy ketone.', reactants: 'Aromatic Aldehyde', conditions: 'Cyanide Ion ($\text{CN}^-$) or $\text{N}$-Heterocyclic Carbene', products: 'Benzoin ($\alpha$-Hydroxy Ketone)', visualizerSteps: [{ label: 'Step 1: Cyanide Attack', text: 'Cyanide attacks the aldehyde carbonyl.'}, { label: 'Step 2: Tautomerization', text: 'The intermediate tautomerizes, forming a nucleophilic carbanion.'}, { label: 'Step 3: Second Aldehyde Attack/Elimination', text: 'The carbanion attacks a second aldehyde molecule, followed by elimination of cyanide to yield the benzoin.'} ] },
            { id: 'wittig-3', name: 'Wittig Reaction (3)', description: 'The formation of an alkene from an aldehyde or ketone and a phosphorus ylide.', reactants: 'Aldehyde/Ketone and Triphenyl Phosphonium Ylide', conditions: 'Aprotic Solvent ($\text{THF}$)', products: 'Alkene (Olefin)', visualizerSteps: [{ label: 'Step 1: Betaine Formation', text: 'The ylide carbanion attacks the carbonyl carbon.'}, { label: 'Step 2: Oxaphosphetane Formation', text: 'The betaine cyclizes to form a four-membered oxaphosphetane ring.'}, { label: 'Step 3: Elimination', text: 'The oxaphosphetane collapses, yielding the alkene and triphenylphosphine oxide ($\text{Ph}_3\text{P}=\text{O}$).'} ] },
            { id: 'pinacolone-3', name: 'Pinacol-Pinacolone Rearrangement (3)', description: 'Acid-catalyzed rearrangement of a 1,2-diol (Pinacol) to a ketone or aldehyde (Pinacolone).', reactants: '1,2-Diol (Pinacol)', conditions: 'Strong Acid (e.g., $\text{H}_2\text{SO}_4$)', products: 'Ketone (Pinacolone)', visualizerSteps: [{ label: 'Step 1: Water Loss', text: 'Protonation and loss of water forms a carbocation.'}, { label: 'Step 2: 1,2-Shift', text: 'A group migrates to the carbocation center.'}, { label: 'Step 3: Deprotonation', text: 'Deprotonation of the resulting oxonium ion yields the final stable ketone product.'} ] },
            { id: 'robin-2', name: 'Robinson Annulation (3)', description: 'Synthesis of cyclohexenone derivatives via a Michael addition followed by an intramolecular Aldol condensation.', reactants: 'Ketone (Michael Donor) and $\\alpha, \\beta$-Unsaturated Ketone (Acceptor)', conditions: 'Base, Heat', products: 'Cyclohexenone Derivative (Fused Ring)', visualizerSteps: [{ label: 'Step 1: Michael Addition', text: 'The enolate of the donor ketone attacks the $\\beta$-carbon of the unsaturated ketone.'}, { label: 'Step 2: Intramolecular Aldol', text: 'The resulting enolate attacks the second carbonyl intramolecularly.'}, { label: 'Step 3: Condensation', text: 'Dehydration yields the stable $\\alpha, \\beta$-unsaturated cyclic ketone.'} ] },
            { id: 'michael-2', name: 'Michael Addition (2)', description: 'A nucleophilic addition of a carbanion to an $\\alpha, \\beta$-unsaturated carbonyl compound (1,4-addition).', reactants: 'Michael Donor (e.g., $\\beta$-Dicarbonyl Enolate) and Michael Acceptor', conditions: 'Base Catalyst ($\text{NaOEt}$)', products: '1,5-Dicarbonyl Compound', visualizerSteps: [{ label: 'Step 1: Enolate Formation', text: 'The base generates the stabilized enolate ion (Michael donor).'}, { label: 'Step 2: Conjugate Addition', text: 'The enolate attacks the $\\beta$-carbon (1,4-addition).'}, { label: 'Step 3: Protonation', text: 'The resulting enolate intermediate is protonated to yield the final saturated 1,5-dicarbonyl product.'} ] },
            { id: 'strecker-3', name: 'Strecker Synthesis (3)', description: 'A method for synthesizing $\\alpha$-amino acids from an aldehyde, ammonia, and hydrogen cyanide.', reactants: 'Aldehyde, Ammonia ($\text{NH}_3$), and $\text{HCN}$', conditions: 'Acidic or Basic Aqueous Solution', products: '$\\alpha$-Amino Acid', visualizerSteps: [{ label: 'Step 1: Iminium Formation', text: 'The aldehyde reacts with ammonia to form the iminium ion.'}, { label: 'Step 2: Cyanide Attack', text: 'Cyanide ($\text{CN}^-$) attacks the iminium ion to form an $\\alpha$-aminonitrile.'}, { label: 'Step 3: Hydrolysis', text: 'Hydrolysis of the nitrile group yields the final $\\alpha$-amino acid.'} ] },
            { id: 'hofmann-2', name: 'Hofmann Rearrangement (2)', description: 'Conversion of a primary amide to a primary amine with loss of one carbon atom, using a halogen and a strong base.', reactants: 'Primary Amide ($\text{RCONH}_2$)', conditions: 'Halogen ($\text{Br}_2$), Strong Base ($\text{NaOH}$)', products: 'Primary Amine ($\text{RNH}_2$)', visualizerSteps: [{ label: 'Step 1: Isocyanate Formation', text: 'The amide rearranges to an isocyanate, losing a halide and forming a nitrene-like intermediate.'}, { label: 'Step 2: Hydrolysis of Isocyanate', text: 'The isocyanate reacts with water to form an unstable carbamic acid.'}, { label: 'Step 3: Decarboxylation', text: 'The carbamic acid decomposes, losing $\\text{CO}_2$ and yielding the final primary amine product.'} ] },
            { id: 'curtius-3', name: 'Curtius Rearrangement (3)', description: 'Conversion of an acyl azide to an isocyanate, followed by hydrolysis to a primary amine, with loss of one carbon atom.', reactants: 'Acyl Azide ($\text{RCON}_3$)', conditions: 'Heat (Thermal Decomposition)', products: 'Primary Amine ($\text{RNH}_2$)', visualizerSteps: [{ label: 'Step 1: Nitrogen Loss', text: 'Heating causes the loss of $\\text{N}_2$, forming a nitrene intermediate.'}, { label: 'Step 2: Rearrangement', text: 'The alkyl group ($\text{R}$) migrates from carbon to nitrogen, forming the isocyanate.'}, { label: 'Step 3: Hydrolysis', text: 'The isocyanate is hydrolyzed by water to give the primary amine and $\\text{CO}_2$.'} ] },
            { id: 'baeyer-villiger-2', name: 'Baeyer-Villiger Oxidation (3)', description: 'The oxidation of ketones to esters (or aldehydes to carboxylic acids) using a peroxy acid.', reactants: 'Ketone or Aldehyde and Peroxy Acid ($\text{RCOOOH}$)', conditions: 'Non-nucleophilic Solvent', products: 'Ester (from Ketone) or Carboxylic Acid (from Aldehyde)', visualizerSteps: [{ label: 'Step 1: Peroxy Acid Addition', text: 'The peroxy acid adds to the carbonyl, forming a Criegee intermediate.'}, { label: 'Step 2: Rearrangement', text: 'The group with the higher migratory aptitude migrates from carbon to oxygen.'}, { label: 'Step 3: Product Formation', text: 'Elimination of the carboxylic acid yields the stable ester product.'} ] },
            { id: 'oppenauer-2', name: 'Oppenauer Oxidation (2)', description: 'Selective oxidation of a secondary alcohol to a ketone using aluminum tert-butoxide catalyst and an excess of an aldehyde or ketone as the hydrogen acceptor.', reactants: 'Secondary Alcohol ($\text{R}_2\text{CHOH}$)', conditions: 'Aluminum tert-Butoxide, Acetone (Hydrogen Acceptor)', products: 'Ketone ($\text{R}_2\text{C}=\text{O}$)', visualizerSteps: [{ label: 'Step 1: Coordination', text: 'The secondary alcohol coordinates to the aluminum catalyst.'}, { label: 'Step 2: Hydride Transfer', text: 'A hydride ion ($\text{H}^-$) is transferred to the carbonyl of the acetone acceptor via a six-membered cyclic transition state.'}, { label: 'Step 3: Product Release', text: 'The ketone product is released, and the aluminum catalyst is ready for the next cycle.'} ] },
            { id: 'mpv-2', name: 'Meerwein-Ponndorf-Verley (MPV) Reduction (2)', description: 'The reduction of ketones and aldehydes to their corresponding alcohols using aluminum isopropoxide and isopropanol.', reactants: 'Aldehyde/Ketone', conditions: 'Aluminum Isopropoxide, Isopropanol', products: 'Primary or Secondary Alcohol', visualizerSteps: [{ label: 'Step 1: Coordination', text: 'The carbonyl oxygen coordinates to the aluminum catalyst.'}, { label: 'Step 2: Hydride Transfer', text: 'A hydride ion is transferred from the isopropanol (coordinated to aluminum) to the carbonyl carbon via a cyclic transition state.'}, { label: 'Step 3: Product Release', text: 'The alcohol product is released, and acetone (the oxidized solvent) is formed.'} ] },
            { id: 'jones-2', name: 'Jones Oxidation (2)', description: 'The oxidation of primary alcohols to carboxylic acids and secondary alcohols to ketones using chromic acid in acetone.', reactants: 'Primary or Secondary Alcohol', conditions: 'Chromium Trioxide ($\text{CrO}_3$), Sulfuric Acid, Acetone', products: 'Ketone or Carboxylic Acid', visualizerSteps: [{ label: 'Step 1: Chromate Ester Formation', text: 'The alcohol reacts with chromic acid to form a chromate ester.'}, { label: 'Step 2: E2 Elimination', text: 'A base abstracts an $\\alpha$-hydrogen, eliminating the chromium group and forming the carbonyl compound.'}, { label: 'Step 3: Further Oxidation (Primary)', text: 'If a primary alcohol is used, the resulting aldehyde is further oxidized to the carboxylic acid.'} ] },
            { id: 'swern-2', name: 'Swern Oxidation (2)', description: 'A very mild oxidation method to convert primary and secondary alcohols into aldehydes and ketones, respectively, using $\\text{DMSO}$ and oxalyl chloride.', reactants: 'Primary or Secondary Alcohol', conditions: 'Oxalyl Chloride, $\\text{DMSO}$, Triethylamine', products: 'Aldehyde or Ketone', visualizerSteps: [{ label: 'Step 1: Sulfonium Ylide Formation', text: 'Oxalyl chloride and $\\text{DMSO}$ form the chloro-sulfonium salt.'}, { label: 'Step 2: Alcohol Attack', text: 'The alcohol attacks the sulfonium center, forming an activated alkoxysulfonium ylide.'}, { label: 'Step 3: E2 Elimination', text: 'The triethylamine base removes an $\\alpha$-hydrogen, eliminating $\\text{Me}_2\text{S}$ and forming the carbonyl product.'} ] },
            { id: 'koch-3', name: 'Koch-Haaf Carbonylation (4)', description: 'Synthesis of carboxylic acids from alkenes or alcohols using carbon monoxide in strong acid.', reactants: 'Alkene or Alcohol and $\\text{CO}$', conditions: 'Strong Acid ($\text{H}_2\text{SO}_4$/$\text{HF}$), High Pressure', products: 'Carboxylic Acid ($\text{RCOOH}$)', visualizerSteps: [{ label: 'Step 1: Carbocation Generation', text: 'The strong acid generates a carbocation from the reactant.'}, { label: 'Step 2: $\\text{CO}$ Capture', text: 'The carbocation attacks carbon monoxide to form an acylium ion.'}, { label: 'Step 3: Hydrolysis', text: 'The acylium ion is hydrolyzed by water to yield the corresponding carboxylic acid.'} ] },
            { id: 'henry-2', name: 'Henry Reaction (2)', description: 'A base-catalyzed reaction of a nitroalkane with an aldehyde or ketone to form a $\\beta$-nitro alcohol (nitro-aldol).', reactants: 'Nitroalkane and Aldehyde/Ketone', conditions: 'Base Catalyst ($\text{NaOH}$ or Amine)', products: '$\\beta$-Nitro Alcohol', visualizerSteps: [{ label: 'Step 1: Nitronate Formation', text: 'The base abstracts an $\\alpha$-hydrogen from the nitroalkane to form the nitronate anion.'}, { label: 'Step 2: Nucleophilic Attack', text: 'The nitronate attacks the carbonyl carbon.'}, { label: 'Step 3: Protonation', text: 'The resulting alkoxide is protonated to yield the final $\\beta$-nitro alcohol.'} ] },
            { id: 'pictet-spengler-2', name: 'Pictet-Spengler Synthesis (2)', description: 'Cyclization of a $\\beta$-arylethylamine and an aldehyde/ketone to form a tetrahydroisoquinoline.', reactants: 'Phenethylamine ($\beta$-Arylethylamine) and Aldehyde/Ketone', conditions: 'Acid Catalyst ($\text{HCl}$), Heat', products: 'Tetrahydroisoquinoline', visualizerSteps: [{ label: 'Step 1: Iminium Formation', text: 'The amine reacts with the carbonyl to form an iminium ion.'}, { label: 'Step 2: Electrophilic Attack', text: 'The aromatic ring attacks the iminium ion intramolecularly.'}, { label: 'Step 3: Ring Closure', text: 'A proton is lost from the ring, yielding the stable tetrahydroisoquinoline product.'} ] },
            { id: 'leimgruber', name: 'Leimgruber-Batcho Indole Synthesis (2)', description: 'Synthesis of indoles by condensing $\\text{o}$-nitrotoluene with $\\text{DMFDMA}$, followed by reduction.', reactants: '$\\text{o}$-Nitrotoluene and $\\text{DMFDMA}$', conditions: 'Base, Heat, then Reduction', products: 'Indole', visualizerSteps: [{ label: 'Step 1: Enamine Formation', text: 'The $\\text{o}$-nitrotoluene reacts to form a $\\beta$-dimethylamino-$\\text{o}$-nitrostyrene enamine.'}, { label: 'Step 2: Reduction', text: 'The nitro group is reduced to an amine.'}, { label: 'Step 3: Cyclization', text: 'The resulting $\\text{o}$-amino compound cyclizes to yield the final indole product.'} ] },
            { id: 'pfitzinger-2', name: 'Pfitzinger Reaction (2)', description: 'Synthesis of quinoline-4-carboxylic acids by condensing isatin with a ketone in the presence of base.', reactants: 'Isatin and Ketone', conditions: 'Strong Base ($\text{KOH}$), Heat', products: 'Quinoline-4-Carboxylic Acid', visualizerSteps: [{ label: 'Step 1: Ring Opening of Isatin', text: 'The base cleaves the five-membered ring of isatin.'}, { label: 'Step 2: Condensation', text: 'The $\\text{o}$-amino group condenses with the ketone carbonyl.'}, { label: 'Step 3: Cyclization', text: 'The intermediate cyclizes, followed by dehydration, to yield the quinoline-4-carboxylic acid.'} ] },
            { id: 'gould-jacobs-2', name: 'Gould-Jacobs Reaction (2)', description: 'Synthesis of quinolines using an aniline derivative and an ethoxymethylene malonate, followed by cyclization.', reactants: 'Aniline and Ethoxymethylene Malonate', conditions: 'Heat, then Strong Acid', products: 'Quinoline-4-Carboxylic Acid Derivative', visualizerSteps: [{ label: 'Step 1: Condensation', text: 'The aniline reacts with the malonate derivative to form an enamine intermediate.'}, { label: 'Step 2: Cyclization', text: 'Intramolecular electrophilic aromatic substitution closes the ring.'}, { label: 'Step 3: Decarboxylation', text: 'Heating the resulting acid decarboxylates it to the final quinoline.'} ] },
            { id: 'friedlander-2', name: 'Friedl√§nder Synthesis (2)', description: 'Synthesis of quinolines by condensing an $\\text{o}$-amino-aldehyde/ketone with a second ketone/aldehyde.', reactants: '$\\text{o}$-Amino Aldehyde/Ketone and Aldehyde/Ketone', conditions: 'Base or Acid Catalyst, Heat', products: 'Quinoline Derivative', visualizerSteps: [{ label: 'Step 1: Condensation', text: 'The amino group condenses with the carbonyl of the second component to form an imine.'}, { label: 'Step 2: Intramolecular Aldol', text: 'The second carbonyl attacks the imine carbon intramolecularly.'}, { label: 'Step 3: Dehydration', text: 'The cyclic intermediate loses water to form the fused quinoline ring system.'} ] },
            { id: 'hantzsch-3', name: 'Hantzsch Pyridine Synthesis (4)', description: 'A multicomponent reaction that synthesizes 1,4-dihydropyridines (DHPs) from an aldehyde, two $\\beta$-keto esters, and ammonia.', reactants: 'Aldehyde, $\\beta$-Keto Ester (2 equiv.), Ammonia', conditions: 'Acid or Base Catalysis, Heat', products: '1,4-Dihydropyridine (DHP)', visualizerSteps: [{ label: 'Step 1: Enamine/Enolate Formation', text: 'Intermediates are formed: an enamine and an $\\alpha, \\beta$-unsaturated carbonyl.'}, { label: 'Step 2: Michael Addition', text: 'The enamine/enolate attacks the unsaturated carbonyl.'}, { label: 'Step 3: Cyclization/Condensation', text: 'The resulting intermediate cyclizes and dehydrates to form the $\\text{DHP}$ ring.'} ] },
            { id: 'pechmann-2', name: 'Pechmann Condensation (3)', description: 'Synthesis of coumarins via the acid-catalyzed condensation of a phenol and a $\\beta$-keto ester.', reactants: 'Phenol and $\\beta$-Keto Ester', conditions: 'Strong Acid ($\text{H}_2\text{SO}_4$)', products: 'Coumarin Derivative', visualizerSteps: [{ label: 'Step 1: Transesterification', text: 'The phenol attacks the ester group of the $\\beta$-keto ester.'}, { label: 'Step 2: Electrophilic Aromatic Substitution', text: 'Intramolecular electrophilic attack occurs at the activated carbonyl.'}, { label: 'Step 3: Dehydration', text: 'The cyclic intermediate loses water to form the fused ring system of the coumarin.'} ] },
            { id: 'knorr-2', name: 'Knorr Pyrrole Synthesis (3)', description: 'Synthesis of pyrroles by condensing an $\\alpha$-amino ketone with a $\\beta$-keto ester.', reactants: '$\\alpha$-Amino Ketone and $\\beta$-Keto Ester', conditions: 'Acid Catalyst, Heat', products: 'Substituted Pyrrole', visualizerSteps: [{ label: 'Step 1: Condensation', text: 'The $\\alpha$-amino ketone condenses with the $\\beta$-keto ester.'}, { label: 'Step 2: Cyclization', text: 'The enol attacks the second carbonyl carbon to close the ring.'}, { label: 'Step 3: Dehydration', text: 'The cyclic intermediate loses water to form the fully aromatic pyrrole ring.'} ] },
            { id: 'fischer-indole-3', name: 'Fischer Indole Synthesis (3)', description: 'Synthesis of indole derivatives from phenylhydrazine and an aldehyde or ketone under acidic catalysis.', reactants: 'Phenylhydrazine and Aldehyde/Ketone', conditions: 'Acid Catalyst ($\text{ZnCl}_2$ or PPA)', products: 'Indole Derivative', visualizerSteps: [{ label: 'Step 1: Hydrazone Formation', text: 'Phenylhydrazine reacts with the carbonyl to form the corresponding phenylhydrazone.'}, { label: 'Step 2: Rearrangement', text: 'The hydrazone undergoes a [3,3]-sigmatropic rearrangement.'}, { label: 'Step 3: Cyclization/Aromatization', text: 'The intermediate cyclizes, followed by loss of ammonia ($\text{NH}_3$) to achieve the aromatic indole structure.'} ] },
            { id: 'bieber-3', name: 'Bischler-Napieralski Reaction (3)', description: 'Intramolecular cyclization of $\\beta$-phenethylamides using a dehydrating agent to create 3,4-dihydroisoquinolines.', reactants: '$\\beta$-Phenethylamide', conditions: 'Dehydrating Agent ($\text{POCl}_3$)', products: '3,4-Dihydroisoquinoline', visualizerSteps: [{ label: 'Step 1: Activation', text: 'The amide is activated by the dehydrating agent.'}, { label: 'Step 2: Electrophilic Aromatic Attack', text: 'The aromatic ring attacks the activated $\\text{C-N}$ center.'}, { label: 'Step 3: Product Formation', text: 'Elimination of the activating group yields the aromatic 3,4-dihydroisoquinoline.'} ] },
            { id: 'biginelli-3', name: 'Biginelli Reaction (3)', description: 'A multicomponent reaction producing 3,4-dihydropyrimidinones (DHPMs) from an aldehyde, $\\beta$-keto ester, and urea.', reactants: 'Aldehyde, $\\beta$-Keto Ester, and Urea', conditions: 'Acid Catalyst ($\text{HCl}$)', products: '3,4-Dihydropyrimidinone (DHPM)', visualizerSteps: [{ label: 'Step 1: Iminium Formation', text: 'The aldehyde and urea condense to form a reactive iminium ion.'}, { label: 'Step 2: $\\text{C-C}$ Bond Formation', text: 'The enol tautomer of the $\\beta$-keto ester attacks the iminium ion.'}, { label: 'Step 3: Cyclization', text: 'The intermediate cyclizes and eliminates water to form the final $\\text{DHPM}$ ring.'} ] },
            { id: 'sonogashira-3', name: 'Sonogashira Coupling (3)', description: 'Palladium- and copper-catalyzed coupling of a terminal alkyne and an aryl or vinyl halide to form a conjugated alkyne.', reactants: 'Terminal Alkyne and Aryl/Vinyl Halide', conditions: 'Pd(0) Catalyst, Cu(I) Co-catalyst, Amine Base', products: 'Substituted Alkyne ($\text{R-C}\\equiv\\text{C-R\'}$)', visualizerSteps: [{ label: 'Step 1: Acetylide Formation', text: 'The terminal alkyne reacts with the copper salt to form the nucleophilic copper acetylide.'}, { label: 'Step 2: Oxidative Addition', text: 'The $\\text{Pd}(0)$ inserts into the $\\text{R-X}$ bond.'}, { label: 'Step 3: Transmetalation/Coupling', text: 'The copper acetylide transfers the acetylide group to the palladium, followed by reductive elimination to form the coupled alkyne.'} ] },
            { id: 'negishi-3', name: 'Negishi Coupling (3)', description: 'Palladium- or nickel-catalyzed cross-coupling involving an organozinc compound and an organohalide.', reactants: 'Organozinc Reagent ($\text{RZnX}$) and Aryl/Vinyl Halide ($\text{R\'X}$)', conditions: 'Pd(0) or Ni(0) Catalyst, THF', products: 'Coupled Hydrocarbon ($\text{R-R\'}$)', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Pd}(0)$ catalyst inserts into the $\\text{R\'X}$ bond.'}, { label: 'Step 2: Transmetalation', text: 'The $\\text{R}$ group is transferred from the zinc reagent to the palladium.'}, { label: 'Step 3: Reductive Elimination', text: 'The two organic groups $\\text{R}$ and $\\text{R\'}$ couple to form the product, and the $\\text{Pd}(0)$ is regenerated.'} ] },
            { id: 'kumada-3', name: 'Kumada Coupling (3)', description: 'Nickel or palladium-catalyzed cross-coupling reaction between an organomagnesium compound (Grignard reagent) and an organohalide.', reactants: 'Grignard Reagent ($\text{RMgX}$) and Aryl/Vinyl Halide ($\text{R\'X}$)', conditions: 'Ni(II) or Pd(II) Catalyst, Solvent', products: 'Coupled Hydrocarbon ($\text{R-R\'}$)', visualizerSteps: [{ label: 'Step 1: Oxidative Addition', text: 'The $\\text{Ni}(0)$ or $\\text{Pd}(0)$ catalyst inserts into the $\\text{C-X}$ bond of the halide.'}, { label: 'Step 2: Transmetalation', text: 'The $\\text{R}$ group from the Grignard reagent is transferred to the metal center.'}, { label: 'Step 3: Reductive Elimination', text: 'The $\\text{R}$ and $\\text{R\'}$ groups couple to form the product, and the catalyst is regenerated.'} ] },
            { id: 'hiyamab-3', name: 'Hiyama Coupling (3)', description: 'Palladium-catalyzed cross-coupling reaction between an organosilane and an organohalide, requiring a fluoride activator.', reactants: 'Organosilane ($\text{RSiR}_3$) and Aryl/Vinyl Halide ($\text{R\'X}$)', conditions: 'Pd Catalyst, Fluoride Activator ($\text{TBAF}$)', products: 'Coupled Hydrocarbon ($\text{R-R\'}$)', visualizerSteps: [{ label: 'Step 1: Silane Activation', text: 'The fluoride ion attacks the silicon atom, creating a hypervalent, more nucleophilic silicon species.'}, { label: 'Step 2: Oxidative Addition', text: 'The $\\text{Pd}(0)$ inserts into the $\\text{C-X}$ bond.'}, { label: 'Step 3: Transmetalation/Elimination', text: 'The activated organosilane transfers the $\\text{R}$ group to the $\\text{Pd}$, followed by reductive elimination to give the coupled product.'} ] },
            { id: 'glausere-3', name: 'Glaser Coupling (3)', description: 'Oxidative coupling of terminal alkynes to form symmetrical conjugated diynes, catalyzed by copper(I) salt.', reactants: 'Terminal Alkyne ($\text{R-C}\\equiv\\text{C-H}$)', conditions: 'Copper(I) Salt ($\text{CuCl}$), Oxidant ($\text{O}_2$)', products: 'Symmetrical Diyne ($\text{R-C}\\equiv\\text{C-C}\\equiv\\text{C-R}$)', visualizerSteps: [{ label: 'Step 1: Acetylide Formation', text: 'The $\\text{Cu}(\\text{I})$ catalyst forms a copper acetylide intermediate with the terminal alkyne.'}, { label: 'Step 2: Oxidation/Coupling', text: 'Two acetylide molecules couple, mediated by the copper catalyst (which is oxidized to $\\text{Cu}(\\text{II})$ and reduced back by the oxidant).'}, { label: 'Step 3: Product Release', text: 'The coupled diyne product is released, regenerating the copper catalyst for turnover.'} ] },
            { id: 'simon-smith-2', name: 'Simmons-Smith Cyclopropanation (2)', description: 'Conversion of an alkene into a cyclopropane using diiodomethane and zinc metal (or zinc-copper couple).', reactants: 'Alkene and Diiodomethane ($\text{CH}_2\text{I}_2$)', conditions: 'Zinc-Copper Couple ($\text{Zn}(\text{Cu})$)', products: 'Cyclopropane', visualizerSteps: [{ label: 'Step 1: Organozinc Formation', text: 'Zinc inserts into the $\\text{C-I}$ bond of diiodomethane to form $\\text{ICH}_2\\text{ZnI}$.'}, { label: 'Step 2: Concerted Addition', text: 'The alkene reacts with the reagent in a single, concerted step.'}, { label: 'Step 3: Ring Closure', text: 'The two new $\\text{C-C}$ bonds form simultaneously, resulting in the cyclopropane ring.'} ] },
            { id: 'grubbs-2', name: 'Grubbs Olefin Metathesis (2)', description: 'Catalyzed redistribution of alkene fragments using ruthenium-based carbene complexes.', reactants: 'Two Alkenes (e.g., Terminal Alkenes)', conditions: 'Grubbs Catalyst (Ruthenium Carbene), Solvent', products: 'New Alkenes and Ethylene ($\text{C}_2\text{H}_4$)', visualizerSteps: [{ label: 'Step 1: Cycloaddition', text: 'The alkene coordinates to the ruthenium carbene and undergoes a [2+2] cycloaddition to form a ruthenacyclobutane intermediate.'}, { label: 'Step 2: Cycloreversion', text: 'The ruthenacyclobutane cycloreverts, eliminating a molecule and generating a new ruthenium carbene.'}, { label: 'Step 3: Chain Propagation', text: 'This new carbene reacts with another alkene molecule to continue the chain reaction.'} ] },
            { id: 'sharpless-2', name: 'Sharpless Epoxidation (2)', description: 'Enantioselective conversion of primary and secondary allylic alcohols into 2,3-epoxyalcohols, catalyzed by titanium isopropoxide and chiral diethyl tartrate.', reactants: 'Allylic Alcohol, $\\text{TBHP}$', conditions: 'Titanium Isopropoxide, Chiral Diethyl Tartrate ($\text{DET}$)', products: 'Chiral 2,3-Epoxyalcohol', visualizerSteps: [{ label: 'Step 1: Catalyst Complexation', text: 'The titanium catalyst, the chiral ligand, and the allylic alcohol form a reactive coordination complex.'}, { label: 'Step 2: Oxygen Transfer', text: 'The $\\text{TBHP}$ transfers an oxygen atom to the alkene within the complex.'}, { label: 'Step 3: Epoxide Formation', text: 'The epoxide is formed with high enantioselectivity, determined by the chirality of the tartrate ligand.'} ] }
            // Total reactions: 100
        ];

        // --- Application State and Logic ---
        let currentStep = 0;
        let selectedReaction = null;
        let currentReactionId = null;

        /**
         * Renders the list of named reactions in the sidebar.
         * @param {Array<Object>} reactionsToRender - The array of reactions to display.
         */
        function renderReactionList(reactionsToRender = namedReactions) {
            const listContainer = document.getElementById('reaction-list');
            
            if (reactionsToRender.length === 0) {
                listContainer.innerHTML = '<p class="text-gray-400 text-center mt-8">No reactions found matching your search.</p>';
                return;
            }

            const listHTML = reactionsToRender.map(reaction => {
                const isActive = reaction.id === currentReactionId ? 'reaction-card-active' : 'hover:bg-gray-800';
                return `
                    <div id="card-${reaction.id}"
                         class="reaction-card p-3 rounded-lg cursor-pointer transition duration-200 mb-2 border-l-4 border-transparent hover:border-blue-500 ${isActive}"
                         onclick="selectReaction('${reaction.id}')">
                        <p class="text-gray-100 font-semibold">${reaction.name}</p>
                        <p class="text-sm text-gray-400 truncate">${reaction.products.replace(/\\/g, '')}</p>
                    </div>
                `;
            }).join('');
            listContainer.innerHTML = listHTML;
        }

        /**
         * Filters the reaction list based on the search query.
         * @param {string} query - The search string.
         */
        function filterReactions(query) {
            const trimmedQuery = query.trim().toLowerCase();
            const filtered = namedReactions.filter(r =>
                r.name.toLowerCase().includes(trimmedQuery) ||
                r.products.toLowerCase().includes(trimmedQuery.replace(/\\/g, ''))
            );
            renderReactionList(filtered);
        }

        /**
         * Handles the selection of a reaction and updates the main display.
         * @param {string} id - The ID of the selected reaction.
         */
        function selectReaction(id) {
            // Find the selected reaction data
            selectedReaction = namedReactions.find(r => r.id === id);

            if (!selectedReaction) return;
            currentReactionId = id;

            // 1. Update Sidebar Styling
            document.querySelectorAll('.reaction-card').forEach(card => {
                card.classList.remove('reaction-card-active');
            });
            document.getElementById(`card-${id}`).classList.add('reaction-card-active');

            // 2. Update Details Section
            document.getElementById('reaction-title').textContent = selectedReaction.name;
            document.getElementById('reaction-summary').innerHTML = selectedReaction.description;

            document.getElementById('reactants-text').innerHTML = selectedReaction.reactants;
            document.getElementById('conditions-text').innerHTML = selectedReaction.conditions;
            document.getElementById('products-text').innerHTML = selectedReaction.products;

            document.getElementById('reactant-product-section').style.display = 'grid';
            document.getElementById('interactive-lab-section').style.display = 'block';

            // 3. Reset and Render Visualizer (Interactive Lab)
            currentStep = 0;
            renderVisualizerStep();

            // 4. Re-render MathJax to process new LaTeX content in the details container
            const detailContainer = document.getElementById('reaction-details-container');
            if (window.MathJax && typeof MathJax.typesetPromise === 'function') {
                MathJax.typesetPromise([detailContainer]);
            }
        }

        /**
         * Renders the current step of the reaction visualizer.
         */
        function renderVisualizerStep() {
            if (!selectedReaction) return;

            const visualizerContent = document.getElementById('visualizer-content');
            const prevButton = document.getElementById('prev-step');
            const nextButton = document.getElementById('next-step');

            const stepData = selectedReaction.visualizerSteps[currentStep];

            // Render content
            visualizerContent.innerHTML = `
                <div class="p-6 bg-gray-800 rounded-lg text-center w-full max-w-xl transition-all duration-500 shadow-xl border border-gray-700">
                    <p class="text-xl font-bold text-blue-300 mb-2">${stepData.label}</p>
                    <p class="text-base text-gray-200">${stepData.text}</p>
                </div>
            `;

            // Update button states
            prevButton.disabled = currentStep === 0;
            nextButton.disabled = currentStep === selectedReaction.visualizerSteps.length - 1;

            // Re-render MathJax if the step contains LaTeX
            if (window.MathJax && typeof MathJax.typesetPromise === 'function') {
                MathJax.typesetPromise([visualizerContent]);
            }
        }

        /**
         * Changes the step in the visualizer.
         * @param {number} direction - 1 for next, -1 for previous.
         */
        function changeStep(direction) {
            if (!selectedReaction) return;

            const maxSteps = selectedReaction.visualizerSteps.length - 1;
            const newStep = currentStep + direction;

            if (newStep >= 0 && newStep <= maxSteps) {
                currentStep = newStep;
                renderVisualizerStep();
            }
        }

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            renderReactionList();
            // Automatically select the first reaction to populate the display on load
            if (namedReactions.length > 0) {
                // Delay selection slightly to ensure MathJax has loaded its initial config
                setTimeout(() => selectReaction(namedReactions[0].id), 50);
            }
        });
    </script>

</body>
</html>
